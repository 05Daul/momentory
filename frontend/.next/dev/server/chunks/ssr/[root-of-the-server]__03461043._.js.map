{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/momentory/frontend/src/config/env.ts"],"sourcesContent":["export const FEEDSERVICE_API = process.env.NEXT_PUBLIC_FEEDSERVICE_API\nexport const NOTIFICATIONSERVEICE_API = process.env.NEXT_PUBLIC_NOTIFICATIONSERVEICE_API!;\nexport const USERSERVICE_API = process.env.NEXT_PUBLIC_USERSERVICE_API!;\nexport const BLOGSERVICE_API = process.env.NEXT_PUBLIC_BLOGSERVICE_API!;\nexport const CHATSERVICE_API = process.env.NEXT_PUBLIC_CHATSERVICE_API!;\nexport const GATEWAY_API_URL = process.env.NEXT_PUBLIC_GATEWAY_API!;\nexport const COMMUNITYSERVICE_API = process.env.NEXT_PUBLIC_COMMUNITYSERVICE_API!;\nexport const FRIENDSSERVICE_API = process.env.NEXT_PUBLIC_FRIENDSSERVICE_API!;\n\nif (!FEEDSERVICE_API) throw new Error('NEXT_PUBLIC_FEEDSERVICE_API ëˆ„ë½!');\nif (!NOTIFICATIONSERVEICE_API) throw new Error('NEXT_PUBLIC_NOTIFICATIONSERVEICE_API ëˆ„ë½!');\nif (!USERSERVICE_API) throw new Error('NEXT_PUBLIC_USERSERVICE_API ëˆ„ë½!');\nif (!BLOGSERVICE_API) throw new Error('NEXT_PUBLIC_BLOGSERVICE_API ëˆ„ë½!');\nif (!CHATSERVICE_API) throw new Error('NEXT_PUBLIC_CHATSERVICE_API ëˆ„ë½!');\nif (!GATEWAY_API_URL) throw new Error('NEXT_PUBLIC_GATEWAY_API ëˆ„ë½!');\nif (!COMMUNITYSERVICE_API) throw new Error('NEXT_PUBLIC_COMMUNITYSERVICE_API ëˆ„ë½!');\nif (!FRIENDSSERVICE_API) throw new Error('NEXT_PUBLIC_FRIENDSSERVICE_API ëˆ„ë½!');\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAO,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AAEb;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/momentory/frontend/src/api/blogService/blog.ts"],"sourcesContent":["import {BLOGSERVICE_API} from \"../../config/env\"\nimport {\n  LikeToggleResponseDTO,\n  PaginatedResponse,\n  PostCreationRequestDTO,\n  PostEntity,\n  PostDetailDTO\n} from \"../../types/blogService/blogType\"\n\n\n\nexport async function getPostTags(postId: number): Promise<string[]> {\n  const url = `${BLOGSERVICE_API}/tags?postId=${postId}`;\n\n  const response = await fetch(url, {\n    method: \"GET\",\n  });\n\n  if (response.ok) {\n    return await response.json();\n  } else {\n    const errorText = await response.text().catch(() => \" \")\n    const errorMessage = errorText || `íƒœê·¸ ì¡°íšŒ ì‹¤íŒ¨: HTTP ${response.status} ì‘ë‹µ`;\n    throw new Error(errorMessage);\n  }\n}\n\nexport const searchPosts = async (\n    keyword: string,\n    page: number = 0,\n    size: number = 10\n): Promise<PaginatedResponse<PostEntity>> => {\n  try {\n    const response = await fetch(\n        `${BLOGSERVICE_API}/search?keyword=${encodeURIComponent(keyword)}&page=${page}&size=${size}`,\n        {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }\n    );\n\n    if (!response.ok) {\n      throw new Error('Failed to search posts');\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error('Error searching posts:', error);\n    throw error;\n  }\n};\n\nexport async function uploadImage(file: File): Promise<{ url: string }> {\n  const url = `${BLOGSERVICE_API}/upload`;\n\n  const formData = new FormData();\n  formData.append(\"file\", file);\n\n  const response = await fetch(url, {\n    method: \"POST\",\n    body: formData,\n  });\n\n  if (response.ok) {\n    // ë°±ì—”ë“œì—ì„œ { \"url\": \"...\" } í˜•íƒœì˜ JSONì„ ë°˜í™˜\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\nexport async function toggleLike(postId: number, userSignId: string): Promise<LikeToggleResponseDTO> {\n  const url = `${BLOGSERVICE_API}/likes/${postId}`;\n\n  try {\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"userSignId\": userSignId, // í—¤ë”ì— userSignId í¬í•¨\n      },\n    });\n\n    if (response.ok) {\n      return await response.json(); // { isLiked: true, likeCount: 10 } ë°˜í™˜\n    } else {\n      const errorText = await response.text();\n      throw new Error(errorText || `ì¢‹ì•„ìš” ì²˜ë¦¬ ì‹¤íŒ¨: HTTP ${response.status}`);\n    }\n  } catch (error) {\n    console.error(\"ì¢‹ì•„ìš” API ì˜¤ë¥˜:\", error);\n    throw error;\n  }\n}\n\n\n// âœ… [ìˆ˜ì •] DTOë¥¼ ì§ì ‘ ë°›ì•„ JSON ë³¸ë¬¸ìœ¼ë¡œ ì „ì†¡í•˜ë„ë¡ ë³€ê²½\nexport async function writeFeed(postData: PostCreationRequestDTO, userSignId: string): Promise<PostEntity> {\n  console.log(\"ê¸€ì“°ê¸° ë©”ì„œë“œ ì‹¤í–‰ (JSON DTO ë°©ì‹)\");\n  const url = `${BLOGSERVICE_API}/write`;\n\n  const response = await fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"userSignId\": userSignId,\n    },\n    body: JSON.stringify(postData), // DTOë¥¼ JSON ë³¸ë¬¸ìœ¼ë¡œ ì „ì†¡\n  });\n\n  if (response.ok) {\n    return await response.json(); // PostEntity ë°˜í™˜\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œê¸€ ë“±ë¡ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\n\nexport async function readPost(postId: number): Promise<PostDetailDTO> {\n  const url = `${BLOGSERVICE_API}/${postId}`;\n\n  const response = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  if (response.ok) {\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œê¸€ ì¡°íšŒ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\n// âœ… [ìˆ˜ì •] updatePostì˜ userSignId ì¸ì ìœ„ì¹˜ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì™€ ì¼ì¹˜\nexport async function updatePost(postId: number, postData: PostCreationRequestDTO, userSignId: string): Promise<PostEntity> {\n  const url = `${BLOGSERVICE_API}/write/${postId}`;\n\n  const response = await fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"userSignId\": userSignId, // í—¤ë”ì— userSignId í¬í•¨\n    },\n    body: JSON.stringify(postData),\n  });\n\n  if (response.ok) {\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œê¸€ ìˆ˜ì • ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\nexport async function deleteFeed(postId: number, userSignId: string): Promise<void> {\n  const url = `${BLOGSERVICE_API}/${postId}`;\n\n  const response = await fetch(url, {\n    method: \"DELETE\",\n    headers: {\n      \"userSignId\": userSignId, // í—¤ë”ì— userSignId í¬í•¨\n    },\n  });\n\n  if (!response.ok) {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œê¸€ ì‚­ì œ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\nexport async function incrementViewCount(postId: number): Promise<string> {\n  const url = `${BLOGSERVICE_API}/view?postId=${postId}`;\n\n  const response = await fetch(url, {\n    method: \"POST\",\n  });\n\n  if (response.ok) {\n    return await response.text(); // \"ì¡°íšŒìˆ˜ê°€ ì¦ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.\"\n  } else {\n    const errorText = await response.text(); // ì˜¤ë¥˜ ë©”ì‹œì§€ ë°˜í™˜\n    throw new Error(errorText || `ì¡°íšŒìˆ˜ ì¦ê°€ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\nexport async function getTrendingPosts(page: number = 0, size: number = 10): Promise<PaginatedResponse<PostEntity>> {\n  const url = `${BLOGSERVICE_API}/trending?page=${page}&size=${size}`;\n\n  const response = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    }\n  });\n\n  if (response.ok) {\n    // ë°±ì—”ë“œì—ì„œ Page<PostEntity> í˜•íƒœë¡œ ë°˜í™˜ëœ JSONì„ íŒŒì‹±\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œë¬¼ ì¡°íšŒ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\nexport async function getMyPosts(userSignId: string, page: number = 0, size: number = 10): Promise<PaginatedResponse<PostEntity>> {\n  const url = `${BLOGSERVICE_API}/my-posts/${userSignId}?page=${page}&size=${size}`;\n  const response = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"authorId\": userSignId,\n      \"Content-Type\": \"application/json\",\n    }\n  });\n\n  if (response.ok) {\n    // ë°±ì—”ë“œì—ì„œ Page<PostEntity> í˜•íƒœë¡œ ë°˜í™˜ëœ JSONì„ íŒŒì‹±\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œë¬¼ ì¡°íšŒ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\nexport async function getRecentPosts(page: number = 0, size: number = 10): Promise<PaginatedResponse<PostEntity>> {\n  const url = `${BLOGSERVICE_API}/recent?page=${page}&size=${size}`;\n\n  const response = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    }\n  });\n\n  if (response.ok) {\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œë¬¼ ì¡°íšŒ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\nexport async function getFriendsPosts(userSignId: string, page: number = 0, size: number = 10): Promise<PaginatedResponse<PostEntity>> {\n  const url = `${BLOGSERVICE_API}/feed?page=${page}&size=${size}`;\n  const token = localStorage.getItem('accessToken');\n\n  console.log(\"--- Friends Posts API Call Debug ---\");\n  console.log(`User Sign ID: ${userSignId}`);\n  console.log(`Token Key Check: 'accessToken'`);\n  console.log(\"------------------------------------\");\n\n  try {\n    const response = await fetch(url, {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        \"userSignId\": userSignId,\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`,\n      }\n    });\n\n    if (response.ok) {\n      return await response.json();\n    } else if (response.status === 403 || response.status === 404) {\n      // ì¹œêµ¬ê°€ ì—†ê±°ë‚˜ ê¶Œí•œì´ ì—†ëŠ” ê²½ìš° ë¹ˆ ê²°ê³¼ ë°˜í™˜\n      console.log(\"No friends or no permission - returning empty result\");\n      return {\n        content: [],\n        pageable: {\n          pageNumber: page,\n          pageSize: size,\n          sort: { empty: true, sorted: false, unsorted: true },\n          offset: 0,\n          paged: true,\n          unpaged: false\n        },\n        last: true,\n        totalPages: 0,\n        totalElements: 0,\n        size: size,\n        number: page,\n        sort: { empty: true, sorted: false, unsorted: true },\n        first: true,\n        numberOfElements: 0,\n        empty: true\n      };\n    } else {\n      // ë‹¤ë¥¸ ì—ëŸ¬ì˜ ê²½ìš°ì—ë„ ë¹ˆ ê²°ê³¼ ë°˜í™˜ (ì—ëŸ¬ë¥¼ throwí•˜ì§€ ì•ŠìŒ)\n      const errorText = await response.text().catch(() => '');\n      console.error(`Error ${response.status}:`, errorText);\n      return {\n        content: [],\n        pageable: {\n          pageNumber: page,\n          pageSize: size,\n          sort: { empty: true, sorted: false, unsorted: true },\n          offset: 0,\n          paged: true,\n          unpaged: false\n        },\n        last: true,\n        totalPages: 0,\n        totalElements: 0,\n        size: size,\n        number: page,\n        sort: { empty: true, sorted: false, unsorted: true },\n        first: true,\n        numberOfElements: 0,\n        empty: true\n      };\n    }\n  } catch (error) {\n    console.error(\"Error fetching friends posts:\", error);\n    // ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ë“±ì˜ ê²½ìš°ì—ë„ ë¹ˆ ê²°ê³¼ ë°˜í™˜\n    return {\n      content: [],\n      pageable: {\n        pageNumber: page,\n        pageSize: size,\n        sort: { empty: true, sorted: false, unsorted: true },\n        offset: 0,\n        paged: true,\n        unpaged: false\n      },\n      last: true,\n      totalPages: 0,\n      totalElements: 0,\n      size: size,\n      number: page,\n      sort: { empty: true, sorted: false, unsorted: true },\n      first: true,\n      numberOfElements: 0,\n      empty: true\n    };\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 419, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/blogService/MyPosts.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"container\": \"MyPosts-module__HjetTq__container\",\n  \"error\": \"MyPosts-module__HjetTq__error\",\n  \"loadMoreButton\": \"MyPosts-module__HjetTq__loadMoreButton\",\n  \"noContent\": \"MyPosts-module__HjetTq__noContent\",\n  \"pageTitle\": \"MyPosts-module__HjetTq__pageTitle\",\n  \"postContent\": \"MyPosts-module__HjetTq__postContent\",\n  \"postList\": \"MyPosts-module__HjetTq__postList\",\n  \"postMeta\": \"MyPosts-module__HjetTq__postMeta\",\n  \"postPreview\": \"MyPosts-module__HjetTq__postPreview\",\n  \"postSnippet\": \"MyPosts-module__HjetTq__postSnippet\",\n  \"postTitle\": \"MyPosts-module__HjetTq__postTitle\",\n  \"thumbnail\": \"MyPosts-module__HjetTq__thumbnail\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 436, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/layout/layout.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"Link\": \"layout-module__oXCPXq__Link\",\n  \"dropdownHeader\": \"layout-module__oXCPXq__dropdownHeader\",\n  \"dropdownItem\": \"layout-module__oXCPXq__dropdownItem\",\n  \"leftSection\": \"layout-module__oXCPXq__leftSection\",\n  \"navLink\": \"layout-module__oXCPXq__navLink\",\n  \"profileCircle\": \"layout-module__oXCPXq__profileCircle\",\n  \"profileContainer\": \"layout-module__oXCPXq__profileContainer\",\n  \"profileDropdown\": \"layout-module__oXCPXq__profileDropdown\",\n  \"profileImage\": \"layout-module__oXCPXq__profileImage\",\n  \"profileSection\": \"layout-module__oXCPXq__profileSection\",\n  \"rightItem\": \"layout-module__oXCPXq__rightItem\",\n  \"rightSection\": \"layout-module__oXCPXq__rightSection\",\n  \"topbar\": \"layout-module__oXCPXq__topbar\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/userService/LoginModal.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"closeButton\": \"LoginModal-module__9G312W__closeButton\",\n  \"footer\": \"LoginModal-module__9G312W__footer\",\n  \"form\": \"LoginModal-module__9G312W__form\",\n  \"iconButton\": \"LoginModal-module__9G312W__iconButton\",\n  \"input\": \"LoginModal-module__9G312W__input\",\n  \"leftSection\": \"LoginModal-module__9G312W__leftSection\",\n  \"loginButton\": \"LoginModal-module__9G312W__loginButton\",\n  \"modalBox\": \"LoginModal-module__9G312W__modalBox\",\n  \"overlay\": \"LoginModal-module__9G312W__overlay\",\n  \"profileCircle\": \"LoginModal-module__9G312W__profileCircle\",\n  \"profileImage\": \"LoginModal-module__9G312W__profileImage\",\n  \"profileSection\": \"LoginModal-module__9G312W__profileSection\",\n  \"rightSection\": \"LoginModal-module__9G312W__rightSection\",\n  \"signupLink\": \"LoginModal-module__9G312W__signupLink\",\n  \"socialIcons\": \"LoginModal-module__9G312W__socialIcons\",\n  \"socialLabel\": \"LoginModal-module__9G312W__socialLabel\",\n  \"socialSection\": \"LoginModal-module__9G312W__socialSection\",\n  \"subTitle\": \"LoginModal-module__9G312W__subTitle\",\n  \"title\": \"LoginModal-module__9G312W__title\",\n  \"welcomeText\": \"LoginModal-module__9G312W__welcomeText\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 480, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/momentory/frontend/src/api/userService/user.ts"],"sourcesContent":["// src/api/userService/user.ts (ìµœì¢… ì™„ì„±ë³¸)\n\nimport { USERSERVICE_API } from \"@/config/env\";\nimport {\n  UserDTO,\n  LoginDTO,\n  FriendReqDTO,\n  FriendsResDTO,\n} from \"@/types/userService/user\";\n\n// ê³µí†µ ì‘ë‹µ íƒ€ì…\ninterface ApiResponse {\n  success: boolean;\n  message?: string;\n}\n\n// ì¤‘ë³µ ì²´í¬ ì‘ë‹µ íƒ€ì… (ë°±ì—”ë“œì—ì„œ \"exists\" ë˜ëŠ” \"not exists\" ê°™ì€ ë¬¸ìì—´ ë°˜í™˜ ì˜ˆìƒ)\ninterface DuplicateCheckResponse {\n  available: boolean;   // í”„ë¡ íŠ¸ì—ì„œ ì“°ê¸° ì¢‹ê²Œ í†µì¼\n}\n\nexport interface UserProfile {\n  userSignId: string;\n  userName: string;\n  nickName: string;\n  email: string;\n  profileImg: string | null;\n}\n\nexport async function uploadProfileImage(userSignId: string, imageFile: File): Promise<{ profileImg: string }> {\n  const formData = new FormData();\n  formData.append('file', imageFile);\n\n  const response = await fetch(`${USERSERVICE_API}/profile/image`, {\n    method: 'POST',\n    headers: {\n      // íŒŒì¼ ì—…ë¡œë“œëŠ” Content-Typeì„ 'multipart/form-data'ë¡œ ëª…ì‹œí•˜ì§€ ì•Šì•„ì•¼\n      // ë¸Œë¼ìš°ì €ê°€ boundaryë¥¼ ìë™ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.\n      userSignId: userSignId, // ì‚¬ìš©ì ì‹ë³„ì„ ìœ„í•œ Header\n      // Authorization í—¤ë”ê°€ í•„ìš”í•˜ë‹¤ë©´ ì—¬ê¸°ì— ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.\n    },\n    body: formData,\n  });\n\n  if (!response.ok) {\n    const errorMsg = await response.text();\n    throw new Error(errorMsg || \"í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨\");\n  }\n\n  // ë°±ì—”ë“œì—ì„œ ìƒˆë¡œìš´ í”„ë¡œí•„ ì´ë¯¸ì§€ ê²½ë¡œ({ profileImg: \"/path/to/image.jpg\" })ë¥¼ ë°˜í™˜í•œë‹¤ê³  ê°€ì •\n  return await response.json();\n}\n\n/**\n * [ì¶”ê°€] ë¹„ë°€ë²ˆí˜¸ ë³€ê²½\n * @param userSignId í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ID\n * @param currentPassword í˜„ì¬ ë¹„ë°€ë²ˆí˜¸\n * @param newPassword ìƒˆ ë¹„ë°€ë²ˆí˜¸\n */\nexport async function changePassword(userSignId: string, currentPassword: string, newPassword: string): Promise<ApiResponse> {\n  const response = await fetch(`${USERSERVICE_API}/profile/password`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      userSignId: userSignId, // ì‚¬ìš©ì ì‹ë³„ì„ ìœ„í•œ Header\n    },\n    body: JSON.stringify({\n      currentPassword: currentPassword,\n      newPassword: newPassword,\n    }),\n  });\n\n  if (!response.ok) {\n    const errorMsg = await response.text();\n    throw new Error(errorMsg || \"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì‹¤íŒ¨\");\n  }\n\n  // ì„±ê³µ ì‹œ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•œë‹¤ê³  ê°€ì •\n  return { success: true, message: \"ë¹„ë°€ë²ˆí˜¸ê°€ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.\" };\n}\n\n/**\n * ì‚¬ìš©ì í”„ë¡œí•„ ì •ë³´ ì¡°íšŒ\n */\nexport async function getUserProfile(userSignId: string): Promise<UserProfile | null> {\n  try {\n    const response = await fetch(`${USERSERVICE_API}/profile/${userSignId}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      console.error(`ì‚¬ìš©ì í”„ë¡œí•„ ì¡°íšŒ ì‹¤íŒ¨: ${response.status}`);\n      return null;\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('ì‚¬ìš©ì í”„ë¡œí•„ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜:', error);\n    return null;\n  }\n}\n\n/**\n * ì—¬ëŸ¬ ì‚¬ìš©ìì˜ í”„ë¡œí•„ ì •ë³´ ì¼ê´„ ì¡°íšŒ\n */\nexport async function getUserProfiles(userSignIds: string[]): Promise<Map<string, UserProfile>> {\n  const profileMap = new Map<string, UserProfile>();\n\n  // ì¤‘ë³µ ì œê±°\n  const uniqueIds = [...new Set(userSignIds)];\n\n  // ë³‘ë ¬ë¡œ ì¡°íšŒ\n  const results = await Promise.allSettled(\n      uniqueIds.map(id => getUserProfile(id))\n  );\n\n  results.forEach((result, index) => {\n    if (result.status === 'fulfilled' && result.value) {\n      profileMap.set(uniqueIds[index], result.value);\n    }\n  });\n\n  return profileMap;\n}\n\n// 1. íšŒì›ê°€ì…\nexport async function signup(formData: FormData): Promise<ApiResponse> {\n  const response = await fetch(`${USERSERVICE_API}/signup`, {\n    method: \"POST\",\n    // FormData ì‚¬ìš© ì‹œ Content-Type í—¤ë”ë¥¼ ì„¤ì •í•˜ì§€ ì•ŠìŒ (ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì„¤ì •)\n    body: formData,\n  });\n\n  const text = await response.text();\n\n  if (response.status === 201) {\n    return { success: true, message: text || \"íšŒì›ê°€ì… ì„±ê³µ\" };\n  }\n\n  return { success: false, message: text || \"íšŒì›ê°€ì… ì‹¤íŒ¨\" };\n}\n// 2. ë¡œê·¸ì¸\nexport async function login(loginDto: LoginDTO): Promise<{\n  userSignId: string;\n  role: string;\n  refreshToken: string;\n  accessToken: string;\n  profileImg?: string\n}> {\n  const response = await fetch(`${USERSERVICE_API}/login`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(loginDto),\n  });\n\n  if (!response.ok) {\n    throw new Error(`ë¡œê·¸ì¸ ì‹¤íŒ¨: ${response.status}`);\n  }\n\n  const authHeader = response.headers.get(\"Authorization\");\n  const accessToken = authHeader?.startsWith(\"Bearer \") ? authHeader.substring(7) : \"\";\n  const body = await response.json();\n\n  return {\n    userSignId: body.userSignId,\n    role: body.role,\n    refreshToken: body.refreshToken,\n    accessToken,\n    profileImg: body.profileImg,\n  };\n}\n\n// 3. ì•„ì´ë”” ì¤‘ë³µ ì²´í¬ â†’ GET /existId?userId=xxx\nexport async function checkUserSignId(userSignId: string): Promise<DuplicateCheckResponse> {\n  const response = await fetch(\n      `${USERSERVICE_API}/existId?userId=${encodeURIComponent(userSignId)}`\n  );\n\n  const text = await response.text();\n  const available = text.trim() === \"not exists\";\n  return { available };\n}\n\n// 4. ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬ â†’ GET /existEmail?email=xxx\nexport async function checkEmail(email: string): Promise<DuplicateCheckResponse> {\n  const response = await fetch(\n      `${USERSERVICE_API}/existEmail?email=${encodeURIComponent(email)}`\n  );\n\n  const text = await response.text();\n  const available = text.trim() === \"not exists\";\n  return { available };\n}\n\n// 5. ë‹‰ë„¤ì„ ì¤‘ë³µ ì²´í¬ â†’ GET /existNickname?nickname=xxx\nexport async function checkNickName(nickname: string): Promise<DuplicateCheckResponse> {\n  const response = await fetch(\n      `${USERSERVICE_API}/existNickname?nickname=${encodeURIComponent(nickname)}`\n  );\n\n  const text = await response.text();\n  const available = text.trim() === \"not exists\";\n  return { available };\n}\n\n// 6. ì¹œêµ¬ ìš”ì²­\nexport async function requestFriend(requesterSignId: string, reqDto: FriendReqDTO): Promise<FriendsResDTO> {\n  const response = await fetch(`${USERSERVICE_API}/friends`, {\n    method: \"POST\",\n    headers: {\n      userSignId: requesterSignId,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(reqDto),\n  });\n\n  if (response.status === 201) {\n    return await response.json();\n  }\n\n  const msg = await response.text();\n  throw new Error(msg || \"ì¹œêµ¬ ìš”ì²­ ì‹¤íŒ¨\");\n}\n\n// 7. ì¹œêµ¬ ìš”ì²­ ìˆ˜ë½\nexport async function acceptFriend(receiverSignId: string, requesterSignId: string): Promise<FriendsResDTO> {\n  const response = await fetch(`${USERSERVICE_API}/friends/${requesterSignId}/accept`, {\n    method: \"PUT\",\n    headers: {\n      userSignId: receiverSignId,\n      \"Content-Length\": \"0\",\n    },\n  });\n\n  if (response.ok) {\n    return await response.json();\n  }\n\n  const msg = await response.text();\n  throw new Error(msg || \"ì¹œêµ¬ ìˆ˜ë½ ì‹¤íŒ¨\");\n}\n\nexport async function updateNickname(userSignId: string, newNickName: string): Promise<{ nickname: string }> {\n  const response = await fetch(`${USERSERVICE_API}/profile/nickname`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      'userSignId': userSignId,\n    },\n    body: JSON.stringify({\n      newNickName,\n    }),\n  });\n\n  if (!response.ok) {\n    const errorBody = await response.json();\n    throw new Error(errorBody.message || \"ë‹‰ë„¤ì„ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\");\n  }\n\n  return await response.json();\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 698, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/momentory/frontend/src/component/userService/LoginModal.tsx"],"sourcesContent":["import React, { useState, FormEvent } from \"react\";\nimport styles from \"../../styles/userService/LoginModal.module.css\";\nimport { login } from \"../../api/userService/user\";\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\n\ninterface LoginModalProps {\n  onClose: () => void;\n  onLoginSuccess: () => void;\n}\n\nexport default function LoginModal({ onClose, onLoginSuccess }: LoginModalProps) {\n  const router = useRouter();\n  const [userSignId, setUserSignId] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n\n  async function handleSubmit(event: FormEvent) {\n    event.preventDefault();\n    setError(null);\n\n    try {\n      const response = await login({ userSignId, password });\n\n      console.log(\"ğŸ”¥ [LoginModal] ë¡œê·¸ì¸ ì‘ë‹µ:\", response);\n      console.log(\"ğŸ”¥ [LoginModal] response.profileImg:\", response.profileImg);\n      console.log(\"ğŸ”¥ [LoginModal] response.profile_img:\", (response as any).profile_img);\n\n      // í† í° ë° ì‚¬ìš©ì ì •ë³´ ì €ì¥\n      const expiresAt = Date.now() + 12 * 60 * 60 * 1000; // 12ì‹œê°„\n      localStorage.setItem(\"accessTokenExpiresAt\", expiresAt.toString());\n      localStorage.setItem(\"accessToken\", response.accessToken);\n      localStorage.setItem(\"refreshToken\", response.refreshToken);\n      localStorage.setItem(\"userSignId\", response.userSignId);\n\n      // í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ìˆìœ¼ë©´ ì €ì¥ (profileImg ë˜ëŠ” profile_img ëª¨ë‘ í™•ì¸)\n      const profileImage = response.profileImg || (response as any).profile_img;\n      console.log(\"ğŸ”¥ [LoginModal] ìµœì¢… profileImage:\", profileImage);\n\n      if (profileImage) {\n        localStorage.setItem(\"profile_img\", profileImage);\n        console.log(\"âœ… [LoginModal] localStorageì— ì €ì¥ë¨:\", profileImage);\n      } else {\n        console.warn(\"âš ï¸ [LoginModal] í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ì‘ë‹µì— ì—†ìŠµë‹ˆë‹¤\");\n      }\n\n      alert(\"í™˜ì˜í•©ë‹ˆë‹¤!\");\n      onLoginSuccess();\n      onClose();\n\n    } catch (err: any) {\n      console.error(err);\n      setError(\"ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.\");\n    }\n  }\n\n  return (\n      <div className={styles.overlay} onClick={onClose}>\n        <div className={styles.modalBox} onClick={e => e.stopPropagation()}>\n\n          {/* ì™¼ìª½: ê°ì„± ì¼ëŸ¬ìŠ¤íŠ¸ ì˜ì—­ */}\n          <div className={styles.leftSection}>\n            <div className={styles.illustration}>\n              <span role=\"img\" aria-label=\"sparkles\" style={{ fontSize: \"4rem\" }}>âœ¨</span>\n            </div>\n            <h2 className={styles.welcomeText}>ë‹¤ì‹œ ë§Œë‚˜ì„œ ë°˜ê°€ì›Œìš”</h2>\n            <p className={styles.welcomeSub}>ì˜¤ëŠ˜ë„ ì†Œì¤‘í•œ ìˆœê°„ì„ ê¸°ë¡í•´ë³¼ê¹Œìš”?</p>\n          </div>\n\n          {/* ì˜¤ë¥¸ìª½: ë¡œê·¸ì¸ í¼ */}\n          <div className={styles.rightSection}>\n            <button className={styles.closeButton} onClick={onClose}>Ã—</button>\n\n            <h2 className={styles.title}>ë¡œê·¸ì¸</h2>\n            <form onSubmit={handleSubmit} className={styles.form}>\n              <input\n                  type=\"text\"\n                  className={styles.input}\n                  placeholder=\"ì•„ì´ë””\"\n                  value={userSignId}\n                  onChange={e => setUserSignId(e.target.value)}\n              />\n              <input\n                  type=\"password\"\n                  className={styles.input}\n                  placeholder=\"ë¹„ë°€ë²ˆí˜¸\"\n                  value={password}\n                  onChange={e => setPassword(e.target.value)}\n              />\n\n              {error && <div className={styles.errorMessage}>{error}</div>}\n\n              <button type=\"submit\" className={styles.loginButton}>\n                ë¡œê·¸ì¸\n              </button>\n            </form>\n\n            <div className={styles.footer}>\n              ì•„ì§ ê³„ì •ì´ ì—†ë‚˜ìš”? <Link href=\"/signup\" className={styles.signupLink} onClick={onClose}>íšŒì›ê°€ì…</Link>\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 914, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/userService/ModalFriends.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"cancelButton\": \"ModalFriends-module__4kHBrW__cancelButton\",\n  \"closeButton\": \"ModalFriends-module__4kHBrW__closeButton\",\n  \"deleteButton\": \"ModalFriends-module__4kHBrW__deleteButton\",\n  \"fadeIn\": \"ModalFriends-module__4kHBrW__fadeIn\",\n  \"listItemDeleteButton\": \"ModalFriends-module__4kHBrW__listItemDeleteButton\",\n  \"modalActions\": \"ModalFriends-module__4kHBrW__modalActions\",\n  \"modalBackdrop\": \"ModalFriends-module__4kHBrW__modalBackdrop\",\n  \"modalContent\": \"ModalFriends-module__4kHBrW__modalContent\",\n  \"modalMessage\": \"ModalFriends-module__4kHBrW__modalMessage\",\n  \"modalTitle\": \"ModalFriends-module__4kHBrW__modalTitle\",\n  \"slideInRight\": \"ModalFriends-module__4kHBrW__slideInRight\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 931, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/momentory/frontend/src/api/userService/friends.ts"],"sourcesContent":["// src/api/userService/friends.ts\nimport { FRIENDSSERVICE_API } from \"@/config/env\";\nimport type { FriendsResDTO, FriendReqDTO } from \"@/types/userService/friends\";\n\n// 1. ì¸ì¦ í† í°ì„ ê°€ì ¸ì˜¤ëŠ” í—¬í¼ í•¨ìˆ˜\nconst getAuthToken = (): string | null => {\n  // TODO: ì‹¤ì œ í”„ë¡œì íŠ¸ì˜ ë¡œì§ì— ë§ê²Œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€, ì¿ í‚¤ ë“±ì—ì„œ JWT í† í°ì„ ê°€ì ¸ì˜¤ë„ë¡ êµ¬í˜„í•˜ì„¸ìš”.\n  const token = localStorage.getItem('accessToken');\n  if (!token) {\n    console.error(\"Authentication token not found.\");\n    return null;\n  }\n  return token;\n};\n\n// 2. ê³µí†µ ìš”ì²­ í—¤ë” ìƒì„± í•¨ìˆ˜ (Authorization í—¤ë” í¬í•¨)\nconst getAuthHeaders = () => {\n  const token = getAuthToken();\n  if (!token) {\n    throw new Error(\"ì¸ì¦ í† í°ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ ìƒíƒœë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.\");\n  }\n  return {\n    'Authorization': `Bearer ${token}`,\n  };\n};\n\n\n// ê³µí†µ ì‘ë‹µ íƒ€ì…\ninterface ApiResponse {\n  success: boolean;\n  message?: string;\n}\n\n// 1. ì¹œêµ¬ ê´€ê³„ ìƒíƒœ ì¡°íšŒ\nexport async function getFriendshipStatus(\n    currentUserSignId: string,\n    targetUserSignId: string\n): Promise<FriendsResDTO | null> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(\n      `${FRIENDSSERVICE_API}/status?targetUserId=${encodeURIComponent(targetUserSignId)}`,\n      {\n        method: \"GET\",\n        headers: headers,\n      }\n  );\n\n  if (response.status === 204) {\n    return null;\n  }\n  if (response.ok) {\n    return await response.json();\n  }\n  const msg = await response.text();\n  console.error(`Status Check Failed: HTTP ${response.status} - ${msg}`);\n  throw new Error(msg || \"ìƒíƒœ ì¡°íšŒ ì‹¤íŒ¨\");\n}\n\n// 2. ì¹œêµ¬ ìš”ì²­ ë³´ë‚´ê¸°\nexport async function sendFriendRequest(\n    currentUserSignId: string,\n    receiverSignId: string\n): Promise<FriendsResDTO> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/request`, {\n    method: \"POST\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ receiverSignId }),\n  });\n\n  if (response.ok) {\n    return await response.json();\n  }\n  const msg = await response.text();\n  console.error(`Send Request Failed: HTTP ${response.status} - ${msg}`);\n  throw new Error(msg || \"ì¹œêµ¬ ìš”ì²­ ì‹¤íŒ¨\");\n}\n\n// 3. ë°›ì€ ì¹œêµ¬ ìš”ì²­ ëª©ë¡ ì¡°íšŒ (ìˆ˜ì •: 204 ì²˜ë¦¬ ë° ë¡œê¹… ì¶”ê°€)\nexport async function getReceivedFriendRequests(): Promise<FriendsResDTO[]> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/requests/received`, {\n    method: \"GET\",\n    headers: headers,\n  });\n\n  // âœ¨ 204 No Content ì²˜ë¦¬\n  if (response.status === 204) {\n    return [];\n  }\n\n  if (response.ok) {\n    return await response.json();\n  }\n\n  // âœ¨ ì—ëŸ¬ ë¡œê¹… ì¶”ê°€\n  const msg = await response.text();\n  console.error(`Received Requests Failed: HTTP ${response.status} - ${msg}`);\n  throw new Error(msg || `ì¹œêµ¬ ìš”ì²­ ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨ (Status: ${response.status})`);\n}\n\n// 4. ì¹œêµ¬ ëª©ë¡ ì¡°íšŒ (ìˆ˜ì •: 204 ì²˜ë¦¬ ë° ë¡œê¹… ì¶”ê°€)\nexport async function getFriendList(): Promise<FriendsResDTO[]> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}`, {\n    method: \"GET\",\n    headers: headers,\n  });\n\n  // âœ¨ 204 No Content ì²˜ë¦¬\n  if (response.status === 204) {\n    return [];\n  }\n\n  if (response.ok) {\n    return await response.json();\n  }\n\n  // âœ¨ ì—ëŸ¬ ë¡œê¹… ì¶”ê°€\n  const msg = await response.text();\n  console.error(`Friend List Failed: HTTP ${response.status} - ${msg}`);\n  throw new Error(msg || `ì¹œêµ¬ ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨ (Status: ${response.status})`);\n}\n\n// 5. ì¹œêµ¬ ìš”ì²­ ìˆ˜ë½\nexport async function acceptFriendRequest(\n    currentUserSignId: string,\n    friendId: number\n): Promise<FriendsResDTO> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/${friendId}/accept`, {\n    method: \"PUT\",\n    headers: {\n      ...headers,\n      \"Content-Length\": \"0\",\n    },\n  });\n\n  if (response.ok) {\n    return await response.json();\n  }\n  const msg = await response.text();\n  console.error(`Accept Request Failed: HTTP ${response.status} - ${msg}`);\n  throw new Error(msg || \"ìˆ˜ë½ ì‹¤íŒ¨\");\n}\n\n// 6. ì¹œêµ¬ ìš”ì²­ ê±°ì ˆ\nexport async function rejectFriendRequest(\n    currentUserSignId: string,\n    friendId: number\n): Promise<void> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/${friendId}/reject`, {\n    method: \"DELETE\",\n    headers: headers,\n  });\n\n  if (!response.ok) {\n    const msg = await response.text();\n    console.error(`Reject Request Failed: HTTP ${response.status} - ${msg}`);\n    throw new Error(msg || \"ê±°ì ˆ ì‹¤íŒ¨\");\n  }\n}\n\n// 7. ì¹œêµ¬ ì‚­ì œ\nexport async function deleteFriend(\n    currentUserSignId: string,\n    friendId: number\n): Promise<void> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/${friendId}`, {\n    method: \"DELETE\",\n    headers: headers,\n  });\n\n  if (!response.ok) {\n    const msg = await response.text();\n    console.error(`Delete Friend Failed: HTTP ${response.status} - ${msg}`);\n    throw new Error(msg || \"ì¹œêµ¬ ì‚­ì œ ì‹¤íŒ¨\");\n  }\n}\n\n// 8. ìœ ì € ì°¨ë‹¨\nexport async function blockUser(\n    currentUserSignId: string,\n    receiverSignId: string\n): Promise<FriendsResDTO> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/block`, {\n    method: \"POST\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ receiverSignId }),\n  });\n\n  if (response.ok) {\n    return await response.json();\n  }\n  const msg = await response.text();\n  console.error(`Block User Failed: HTTP ${response.status} - ${msg}`);\n  throw new Error(msg || \"ì°¨ë‹¨ ì‹¤íŒ¨\");\n}\n\n// 9. ì°¨ë‹¨ í•´ì œ\nexport async function unblockUser(\n    currentUserSignId: string,\n    friendId: number\n): Promise<void> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/${friendId}/unblock`, {\n    method: \"DELETE\",\n    headers: headers,\n  });\n\n  if (!response.ok) {\n    const msg = await response.text();\n    console.error(`Unblock User Failed: HTTP ${response.status} - ${msg}`);\n    throw new Error(msg || \"ì°¨ë‹¨ í•´ì œ ì‹¤íŒ¨\");\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1120, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/momentory/frontend/src/component/userService/FriendActionModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, {useEffect, useState, useCallback} from \"react\";\nimport styles from \"@/styles/userService/ModalFriends.module.css\";\nimport {\n  sendFriendRequest,\n  acceptFriendRequest,\n  rejectFriendRequest,\n  deleteFriend,\n  getReceivedFriendRequests,\n  getFriendList,\n  getFriendshipStatus, // âœ¨ ì¶”ê°€\n} from \"@/api/userService/friends\";\n\ntype TabType = \"add\" | \"requests\" | \"friends\";\n\ninterface FriendItem {\n  friendId: number;\n  userSignId: string;\n}\n\nconst ITEMS_PER_PAGE = 5;\n\n// ---------------------------\n// íƒ­ë³„ ëª©ë¡ ì•„ì´í…œ ì»´í¬ë„ŒíŠ¸\n// ---------------------------\n\ninterface RequestItemProps extends FriendItem {\n  onAccept: (friendId: number) => void;\n  onReject: (friendId: number) => void;\n}\n\nconst RequestItem: React.FC<RequestItemProps> = ({userSignId, friendId, onAccept, onReject}) => (\n    <div className=\"flex items-center justify-between p-3 border-b last:border-b-0\">\n      <span className=\"font-semibold text-gray-700\">{userSignId}</span>\n      <div className=\"flex space-x-2\">\n        <button\n            onClick={() => onAccept(friendId)}\n            className=\"px-3 py-1 text-sm font-medium text-white bg-green-500 rounded hover:bg-green-600 transition\"\n        >\n          ìˆ˜ë½\n        </button>\n        <button\n            onClick={() => onReject(friendId)}\n            className=\"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-200 rounded hover:bg-gray-300 transition\"\n        >\n          ê±°ì ˆ\n        </button>\n      </div>\n    </div>\n);\n\ninterface FriendListItemProps extends FriendItem {\n  onRemove: (friendId: number) => void;\n}\n\nconst FriendListItem: React.FC<FriendListItemProps> = ({userSignId, friendId, onRemove}) => (\n    <div className=\"flex items-center justify-between p-3 border-b last:border-b-0\">\n      <span className=\"font-semibold text-gray-700\">{userSignId}</span>\n      <button\n          onClick={() => onRemove(friendId)}\n          className={styles.listItemDeleteButton}\n      >\n        ì‚­ì œ\n      </button>\n    </div>\n);\n\n// ---------------------------\n// ë©”ì¸ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸\n// ---------------------------\n\nexport default function FriendManagerModal({\n                                             currentUserSignId,\n                                             isOpen,\n                                             onClose,\n                                           }: {\n  currentUserSignId: string;\n  isOpen: boolean;\n  onClose: () => void;\n}) {\n  const [tab, setTab] = useState<TabType>(\"add\");\n  const [inputId, setInputId] = useState(\"\");\n  const [requests, setRequests] = useState<FriendItem[]>([]);\n  const [friends, setFriends] = useState<FriendItem[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  const [requestsCurrentPage, setRequestsCurrentPage] = useState(1);\n  const [friendsCurrentPage, setFriendsCurrentPage] = useState(1);\n\n\n  const loadData = useCallback(async () => {\n    setLoading(true);\n    try {\n      const [requestsData, friendsData] = await Promise.all([\n        getReceivedFriendRequests(),\n        getFriendList(),\n      ]);\n\n      setRequests(\n          requestsData.map((d: any) => ({\n            friendId: d.friendId,\n            userSignId: d.requesterSignId\n          }))\n      );\n\n      setFriends(\n          friendsData.map((d: any) => ({\n            friendId: d.friendId,\n            userSignId: d.requesterSignId === currentUserSignId ? d.receiverSignId : d.requesterSignId,\n          }))\n      );\n    } catch (err) {\n      console.error(\"Failed to load friend data\", err);\n      setRequests([]);\n      setFriends([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [currentUserSignId]);\n\n  useEffect(() => {\n    if (isOpen) {\n      loadData();\n      setRequestsCurrentPage(1);\n      setFriendsCurrentPage(1);\n    }\n  }, [isOpen, loadData]);\n\n  // âœ¨ ìˆ˜ì •: ì¹œêµ¬ ìš”ì²­ ì „ ìƒíƒœ í™•ì¸ ë¡œì§ ì¶”ê°€\n  const sendRequest = async () => {\n    const trimmedId = inputId.trim();\n\n    // ì…ë ¥ê°’ ê²€ì¦\n    if (!trimmedId) {\n      return alert(\"ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”\");\n    }\n\n    // ìê¸° ìì‹ ì—ê²Œ ìš”ì²­í•˜ëŠ” ê²½ìš°\n    if (trimmedId === currentUserSignId) {\n      return alert(\"ìì‹ ì—ê²ŒëŠ” ì¹œêµ¬ë¥¼ ì¶”ê°€í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤\");\n    }\n\n    try {\n      // âœ¨ ì¹œêµ¬ ê´€ê³„ ìƒíƒœ í™•ì¸\n      const status = await getFriendshipStatus(currentUserSignId, trimmedId);\n\n      // ì´ë¯¸ ì¹œêµ¬ ê´€ê³„ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°\n      if (status) {\n        if (status.friendsStatus === \"ACCEPTED\") {\n          return alert(\"ì´ë¯¸ ì¹œêµ¬ ê´€ê³„ì…ë‹ˆë‹¤\");\n        } else if (status.friendsStatus === \"PENDING\") {\n          // ìš”ì²­ìê°€ í˜„ì¬ ì‚¬ìš©ìì¸ ê²½ìš°\n          if (status.requesterSignId === currentUserSignId) {\n            return alert(\"ì´ë¯¸ ì¹œêµ¬ ìš”ì²­ì„ ë³´ë‚¸ ìƒíƒœì…ë‹ˆë‹¤\");\n          } else {\n            // ìƒëŒ€ë°©ì´ ìš”ì²­ìì¸ ê²½ìš°\n            return alert(\"ìƒëŒ€ë°©ì´ ì´ë¯¸ ì¹œêµ¬ ìš”ì²­ì„ ë³´ëƒˆìŠµë‹ˆë‹¤. 'ì¹œêµ¬ ìš”ì²­' íƒ­ì—ì„œ í™•ì¸í•´ì£¼ì„¸ìš”\");\n          }\n        } else if (status.friendsStatus === \"BLOCKED\") {\n          return alert(\"ì°¨ë‹¨ëœ ì‚¬ìš©ìì…ë‹ˆë‹¤\");\n        }\n      }\n\n      // ìƒíƒœ í™•ì¸ ì™„ë£Œ í›„ ì¹œêµ¬ ìš”ì²­ ì „ì†¡\n      await sendFriendRequest(currentUserSignId, trimmedId);\n      alert(\"ì¹œêµ¬ ìš”ì²­ì„ ë³´ëƒˆìŠµë‹ˆë‹¤!\");\n      setInputId(\"\");\n    } catch (err: any) {\n      alert(err.message || \"ìš”ì²­ ì‹¤íŒ¨\");\n    }\n  };\n\n  const accept = async (friendId: number) => {\n    try {\n      await acceptFriendRequest(currentUserSignId, friendId);\n      alert(\"ì¹œêµ¬ ìš”ì²­ì„ ìˆ˜ë½í–ˆìŠµë‹ˆë‹¤.\");\n      loadData();\n    } catch (err: any) {\n      alert(err.message || \"ìˆ˜ë½ ì‹¤íŒ¨\");\n    }\n  };\n\n  const reject = async (friendId: number) => {\n    try {\n      await rejectFriendRequest(currentUserSignId, friendId);\n      alert(\"ì¹œêµ¬ ìš”ì²­ì„ ê±°ì ˆí–ˆìŠµë‹ˆë‹¤.\");\n      loadData();\n    } catch (err: any) {\n      alert(err.message || \"ê±°ì ˆ ì‹¤íŒ¨\");\n    }\n  };\n\n  const remove = async (friendId: number) => {\n    if (!confirm(\"ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\")) return;\n    try {\n      await deleteFriend(currentUserSignId, friendId);\n      alert(\"ì¹œêµ¬ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.\");\n      loadData();\n    } catch (err: any) {\n      alert(err.message || \"ì‚­ì œ ì‹¤íŒ¨\");\n    }\n  };\n\n  if (!isOpen) return null;\n\n  const getPaginationData = (list: FriendItem[], currentPage: number) => {\n    const totalItems = list.length;\n    const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);\n    const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\n    const endIndex = startIndex + ITEMS_PER_PAGE;\n    const currentItems = list.slice(startIndex, endIndex);\n    return { currentItems, totalItems, totalPages };\n  };\n\n  const { currentItems: currentRequests, totalItems: totalRequests, totalPages: requestsTotalPages } = getPaginationData(requests, requestsCurrentPage);\n  const { currentItems: currentFriends, totalItems: totalFriends, totalPages: friendsTotalPages } = getPaginationData(friends, friendsCurrentPage);\n\n  const PaginationControls = ({totalPages, currentPage, setCurrentPage}: {\n    totalPages: number,\n    currentPage: number,\n    setCurrentPage: (page: number) => void\n  }) => {\n    if (totalPages <= 1) return null;\n\n    return (\n        <div className=\"flex justify-center space-x-2 mt-4\">\n          <button\n              onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}\n              disabled={currentPage === 1}\n              className=\"px-3 py-1 border rounded disabled:opacity-50\"\n          >\n            ì´ì „\n          </button>\n          <span className=\"py-1 px-3\">\n            {currentPage} / {totalPages}\n          </span>\n          <button\n              onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}\n              disabled={currentPage === totalPages}\n              className=\"px-3 py-1 border rounded disabled:opacity-50\"\n          >\n            ë‹¤ìŒ\n          </button>\n        </div>\n    );\n  };\n\n  const TabButton = ({label, type, count}: { label: string, type: TabType, count?: number }) => (\n      <button\n          onClick={() => {\n            setTab(type);\n            if (type === 'requests') setRequestsCurrentPage(1);\n            if (type === 'friends') setFriendsCurrentPage(1);\n          }}\n          className={`flex-1 text-center py-3 font-semibold transition relative ${\n              tab === type\n                  ? \"text-blue-600 border-b-2 border-blue-600\"\n                  : \"text-gray-500 hover:text-gray-700\"\n          }`}\n      >\n        {label}\n        {count !== undefined && count > 0 && (\n            <span className=\"ml-2 px-2 py-0.5 text-xs font-bold text-white bg-red-500 rounded-full\">\n              {count}\n            </span>\n        )}\n      </button>\n  );\n\n  const renderContent = () => {\n    if (loading) {\n      return <div className=\"p-8 text-center text-gray-500\">ë¡œë”© ì¤‘...</div>;\n    }\n\n    switch (tab) {\n      case \"add\":\n        return (\n            <div className=\"p-8\">\n              <h3 className=\"text-xl font-bold mb-4\">ì¹œêµ¬ IDë¡œ ì¶”ê°€</h3>\n              <div className=\"flex space-x-2\">\n                <input\n                    type=\"text\"\n                    value={inputId}\n                    onChange={(e) => setInputId(e.target.value)}\n                    onKeyPress={(e) => e.key === 'Enter' && sendRequest()}\n                    placeholder=\"ì¹œêµ¬ì˜ IDë¥¼ ì…ë ¥í•˜ì„¸ìš”\"\n                    className=\"flex-grow p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <button\n                    onClick={sendRequest}\n                    className=\"px-6 py-3 font-semibold text-white bg-blue-500 rounded hover:bg-blue-600 transition\"\n                >\n                  ìš”ì²­\n                </button>\n              </div>\n            </div>\n        );\n      case \"requests\":\n        return (\n            <div className=\"p-8\">\n              <h3 className=\"text-xl font-bold mb-4\">ë°›ì€ ì¹œêµ¬ ìš”ì²­ ({totalRequests})</h3>\n              <div className=\"border border-gray-200 rounded\">\n                {totalRequests === 0 ? (\n                    <p className=\"p-4 text-center text-gray-500\">ë°›ì€ ì¹œêµ¬ ìš”ì²­ì´ ì—†ìŠµë‹ˆë‹¤.</p>\n                ) : (\n                    currentRequests.map((item) => (\n                        <RequestItem\n                            key={item.friendId}\n                            {...item}\n                            onAccept={accept}\n                            onReject={reject}\n                        />\n                    ))\n                )}\n              </div>\n              <PaginationControls\n                  totalPages={requestsTotalPages}\n                  currentPage={requestsCurrentPage}\n                  setCurrentPage={setRequestsCurrentPage}\n              />\n            </div>\n        );\n      case \"friends\":\n        return (\n            <div className=\"p-8\">\n              <h3 className=\"text-xl font-bold mb-4\">ë‚´ ì¹œêµ¬ ëª©ë¡ ({totalFriends})</h3>\n              <div className=\"border border-gray-200 rounded\">\n                {totalFriends === 0 ? (\n                    <p className=\"p-4 text-center text-gray-500\">ë“±ë¡ëœ ì¹œêµ¬ê°€ ì—†ìŠµë‹ˆë‹¤.</p>\n                ) : (\n                    currentFriends.map((item) => (\n                        <FriendListItem\n                            key={item.friendId}\n                            {...item}\n                            onRemove={remove}\n                        />\n                    ))\n                )}\n              </div>\n              <PaginationControls\n                  totalPages={friendsTotalPages}\n                  currentPage={friendsCurrentPage}\n                  setCurrentPage={setFriendsCurrentPage}\n              />\n            </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n      <>\n        <div className={styles.modalBackdrop} onMouseDown={onClose} />\n        <div className={styles.modalContent} onClick={(e) => e.stopPropagation()}>\n          <button onClick={onClose} className={styles.closeButton}>Ã—</button>\n          <div className=\"p-8 border-b\">\n            <div className=\"mb-6\">\n              <h2 className={styles.modalTitle}>ì¹œêµ¬ ê´€ë¦¬</h2>\n            </div>\n            <div className=\"flex -mx-8 border-b\">\n              <TabButton label=\"ì¹œêµ¬ ì¶”ê°€\" type=\"add\"/>\n              <TabButton label=\"ì¹œêµ¬ ìš”ì²­\" type=\"requests\" count={requests.length}/>\n              <TabButton label=\"ì¹œêµ¬ ëª©ë¡\" type=\"friends\" count={friends.length}/>\n            </div>\n          </div>\n          <div className=\"flex flex-col flex-grow\">\n            {renderContent()}\n          </div>\n        </div>\n      </>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1669, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/momentory/frontend/src/utils/imageUtils.ts"],"sourcesContent":["export const getImageUrl = (path: string | null | undefined): string => {\n  if (!path) return '';\n\n  if (path.startsWith('http://') || path.startsWith('https://')) {\n    return path;\n  }\n\n  if (path.startsWith('/')) {\n    const GCS_BASE_URL = 'https://storage.googleapis.com/miniblog-storage';\n    return `${GCS_BASE_URL}${path}`;\n  }\n\n  // 3. ì˜ˆì „ ë°©ì‹(ë¡œì»¬ ì„œë²„) ëŒ€ì‘ì´ í•„ìš” ì—†ë‹¤ë©´ ìœ„ ë‹¨ê³„ì—ì„œ ë§ˆë¬´ë¦¬ë©ë‹ˆë‹¤.\n  // í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì•„ë˜ ì£¼ì†Œë¥¼ ìœ ì§€í•˜ì„¸ìš”.\n  const USERSERVICE_URL = 'http://127.0.0.1:1003';\n  return `${USERSERVICE_URL}${path}`;\n};\n\nexport const getInitial = (userId: string | null | undefined): string => {\n  if (!userId || userId.length === 0) return '?';\n  return userId[0].toUpperCase();\n};"],"names":[],"mappings":";;;;;;AAAO,MAAM,cAAc,CAAC;IAC1B,IAAI,CAAC,MAAM,OAAO;IAElB,IAAI,KAAK,UAAU,CAAC,cAAc,KAAK,UAAU,CAAC,aAAa;QAC7D,OAAO;IACT;IAEA,IAAI,KAAK,UAAU,CAAC,MAAM;QACxB,MAAM,eAAe;QACrB,OAAO,GAAG,eAAe,MAAM;IACjC;IAEA,4CAA4C;IAC5C,yBAAyB;IACzB,MAAM,kBAAkB;IACxB,OAAO,GAAG,kBAAkB,MAAM;AACpC;AAEO,MAAM,aAAa,CAAC;IACzB,IAAI,CAAC,UAAU,OAAO,MAAM,KAAK,GAAG,OAAO;IAC3C,OAAO,MAAM,CAAC,EAAE,CAAC,WAAW;AAC9B"}},
    {"offset": {"line": 1697, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/momentory/frontend/src/component/layout/Bar/Topbar.tsx"],"sourcesContent":["'use client';\n\nimport styles from \"../../../styles/layout/layout.module.css\";\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport LoginModal from \"../../userService/LoginModal\";\nimport FriendActionModal from \"@/component/userService/FriendActionModal\";\nimport { getImageUrl, getInitial } from \"@/utils/imageUtils\";\nimport React from \"react\";\n\n// ProfileDropdown ì»´í¬ë„ŒíŠ¸\ninterface ProfileDropdownProps {\n  onClose: () => void;\n  onNavigate: (path: string) => void;\n  userSignId: string;\n}\n\nconst ProfileDropdown = ({ onClose, onNavigate, userSignId }: ProfileDropdownProps) => {\n  const handleLinkClick = (path: string) => {\n    onNavigate(path);\n    onClose();\n  };\n\n  return (\n      <div className={styles.profileDropdown}>\n        <div className={styles.dropdownHeader}>\n          <strong>{userSignId}</strong>\n        </div>\n        <button onClick={() => handleLinkClick(`/my-posts/${userSignId}`)} className={styles.dropdownItem}>\n          ë‚´ ê²Œì‹œë¬¼\n        </button>\n        <button onClick={() => handleLinkClick('/setting')} className={styles.dropdownItem}>\n          ì„¤ì • (ì´ë¯¸ì§€/ë¹„ë°€ë²ˆí˜¸)\n        </button>\n      </div>\n  );\n};\n\nexport default function Topbar() {\n  const router = useRouter();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const [showFriendModal, setShowFriendModal] = useState(false);\n  const [profileImg, setProfileImg] = useState('');\n  const [userSignId, setUserSignId] = useState('');\n  const [imageLoadError, setImageLoadError] = useState(false);\n  const [showProfileDropdown, setShowProfileDropdown] = useState(false);\n\n  // âœ… [ìˆ˜ì •] ë¡œê·¸ì¸ ìƒíƒœ ë° í”„ë¡œí•„ ì •ë³´ë¥¼ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ëŠ” í•¨ìˆ˜ ì¶”ì¶œ\n  const checkLoginStatus = () => {\n    const token = localStorage.getItem(\"accessToken\");\n    const expiresAt = localStorage.getItem(\"accessTokenExpiresAt\");\n    const userId = localStorage.getItem(\"userSignId\");\n    const profile = localStorage.getItem(\"profile_img\"); // ì„¤ì • í˜ì´ì§€ì™€ í‚¤ ê°’ í™•ì¸ í•„ìš”\n\n    if (!token || !expiresAt) {\n      setIsLoggedIn(false);\n      return;\n    }\n\n    if (Date.now() > Number(expiresAt)) {\n      forceLogout();\n      return;\n    }\n\n    setIsLoggedIn(true);\n    setUserSignId(userId || '');\n    setProfileImg(profile || '');\n    // ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ë•Œ ì—ëŸ¬ ìƒíƒœ ì´ˆê¸°í™”\n    setImageLoadError(false);\n  };\n\n  // âœ… [ì¶”ê°€] ì‹¤ì‹œê°„ í”„ë¡œí•„ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡\n  useEffect(() => {\n    checkLoginStatus();\n\n    // 'profileUpdate' ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡\n    const handleProfileUpdate = () => {\n      console.log(\"ğŸ”„ í”„ë¡œí•„ ë³€ê²½ ê°ì§€: Topbar ì—…ë°ì´íŠ¸\");\n      checkLoginStatus();\n    };\n\n    window.addEventListener('profileUpdate', handleProfileUpdate);\n\n    return () => {\n      window.removeEventListener('profileUpdate', handleProfileUpdate);\n    };\n  }, []);\n\n  // ìë™ ë¡œê·¸ì•„ì›ƒ ë¡œì§\n  useEffect(() => {\n    const token = localStorage.getItem(\"accessToken\");\n    const expiresAt = localStorage.getItem(\"accessTokenExpiresAt\");\n    if (!token || !expiresAt) return;\n\n    const remainingTime = Number(expiresAt) - Date.now();\n    if (remainingTime <= 0) {\n      forceLogout();\n      return;\n    }\n\n    const timer = setTimeout(() => {\n      forceLogout();\n    }, remainingTime);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  const handleLoginSuccess = () => {\n    checkLoginStatus();\n    setShowLoginModal(false);\n  };\n\n  const handleLogout = () => {\n    localStorage.clear();\n    setIsLoggedIn(false);\n    setProfileImg('');\n    setUserSignId('');\n    alert(\"ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.\");\n    router.push(\"/\");\n  };\n\n  const forceLogout = () => {\n    console.warn(\"â³ í† í° ë§Œë£Œ â†’ ìë™ ë¡œê·¸ì•„ì›ƒ\");\n    localStorage.clear();\n    setIsLoggedIn(false);\n    setProfileImg('');\n    setUserSignId('');\n    setShowProfileDropdown(false);\n    alert(\"ë¡œê·¸ì¸ ì‹œê°„ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\");\n    router.replace(\"/\");\n  };\n\n  const handleProfileClick = () => {\n    setShowProfileDropdown(prev => !prev);\n  };\n\n  const handleNavigate = (path: string) => {\n    router.push(path);\n    setShowProfileDropdown(false);\n  };\n\n  const currentUserSignId = typeof window !== \"undefined\"\n      ? localStorage.getItem(\"userSignId\") || \"\"\n      : \"\";\n\n  return (\n      <>\n        <header className={styles.topbar}>\n          <Link href=\"/\" className={styles.leftSection}>\n            MomenTory\n          </Link>\n\n          <nav className={styles.rightSection}>\n            {isLoggedIn ? (\n                <>\n                  <Link href=\"/community\" className={`${styles.rightItem} ${styles.navLink}`}>\n                    ì»¤ë®¤ë‹ˆí‹°\n                  </Link>\n\n                  <div\n                      className={styles.rightItem}\n                      style={{ cursor: 'pointer' }}\n                      onClick={() => setShowFriendModal(true)}\n                  >\n                    ì¹œêµ¬\n                    {showFriendModal && currentUserSignId && (\n                        <FriendActionModal\n                            currentUserSignId={currentUserSignId}\n                            isOpen={showFriendModal}\n                            onClose={() => setShowFriendModal(false)}\n                        />\n                    )}\n                  </div>\n\n                  <Link href=\"/page\" className={`${styles.rightItem} ${styles.writeButton}`}>\n                    ì±„íŒ…\n                  </Link>\n\n                  <Link href=\"/write\" className={`${styles.rightItem} ${styles.writeButton}`}>\n                    Log ì‘ì„±\n                  </Link>\n\n                  <div className={styles.profileContainer}>\n                    <div\n                        className={styles.profileSection}\n                        onClick={handleProfileClick}\n                        style={{ cursor: 'pointer' }}\n                    >\n                      {profileImg && !imageLoadError ? (\n                          <img\n                              src={getImageUrl(profileImg)}\n                              alt=\"í”„ë¡œí•„\"\n                              className={styles.profileImage}\n                              onError={(e) => {\n                                setImageLoadError(true);\n                                e.currentTarget.style.display = 'none';\n                              }}\n                          />\n                      ) : (\n                          <div className={styles.profileCircle}>\n                            {getInitial(userSignId)}\n                          </div>\n                      )}\n                    </div>\n\n                    {showProfileDropdown && (\n                        <ProfileDropdown\n                            onClose={() => setShowProfileDropdown(false)}\n                            onNavigate={handleNavigate}\n                            userSignId={userSignId}\n                        />\n                    )}\n                  </div>\n\n                  <div className={styles.rightItem} onClick={handleLogout} style={{ cursor: 'pointer' }}>\n                    ë¡œê·¸ì•„ì›ƒ\n                  </div>\n                </>\n            ) : (\n                <div\n                    className={styles.rightItem}\n                    style={{ cursor: \"pointer\" }}\n                    onClick={() => setShowLoginModal(true)}\n                >\n                  ë¡œê·¸ì¸\n                </div>\n            )}\n          </nav>\n        </header>\n\n        {showLoginModal && (\n            <LoginModal\n                onClose={() => setShowLoginModal(false)}\n                onLoginSuccess={handleLoginSuccess}\n            />\n        )}\n      </>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2019, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/layout/MainLayout.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"layoutContainer\": \"MainLayout-module__rxU5Kq__layoutContainer\",\n  \"mainContent\": \"MainLayout-module__rxU5Kq__mainContent\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 2027, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/momentory/frontend/src/component/layout/MainLayout.tsx"],"sourcesContent":["import React from 'react';\nimport Topbar from './Bar/Topbar';\nimport styles from '@/styles/layout/MainLayout.module.css';\n\ninterface LayoutProps {\n  children: React.ReactNode;\n}\n\nexport default function Layout({ children }: LayoutProps) {\n  return (\n      <div className={styles.layoutContainer}>\n        <Topbar />\n        <main className={styles.mainContent}>\n          {children}\n        </main>\n      </div>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAMe,SAAS,OAAO,EAAE,QAAQ,EAAe;IACtD,qBACI,qKAAC;QAAI,WAAW,qJAAM,CAAC,eAAe;;0BACpC,qKAAC,gJAAM;;;;;0BACP,qKAAC;gBAAK,WAAW,qJAAM,CAAC,WAAW;0BAChC;;;;;;;;;;;;AAIX"}},
    {"offset": {"line": 2065, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/momentory/frontend/src/pages/my-posts/%5BuserSignId%5D.tsx"],"sourcesContent":["// pages/my-posts/[userSignId].tsx\n\nimport { useRouter } from 'next/router';\nimport { useEffect, useState } from 'react';\nimport { getMyPosts } from '@/api/blogService/blog';\nimport { PostEntity } from '@/types/blogService/blogType';\nimport styles from '@/styles/blogService/MyPosts.module.css';\nimport Layout from \"@/component/layout/MainLayout\";\n\n// ğŸŸ¢ [ì¶”ê°€] HTML íƒœê·¸ë¥¼ ì œê±°í•˜ê³  ìˆœìˆ˜ í…ìŠ¤íŠ¸ë§Œ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ë¥¼ ìœ í‹¸ë¦¬í‹°ë¡œ ì •ì˜\nconst stripHtml = (html: string): string => {\n  if (!html) return \"\";\n\n  if (typeof window !== 'undefined') {\n    const temp = document.createElement('div');\n    temp.innerHTML = html;\n    const text = temp.textContent || temp.innerText || '';\n    return text.replace(/\\s+/g, ' ').trim();\n  }\n\n  // ì„œë²„ í™˜ê²½ ëŒ€ì‘ (ê°„ë‹¨í•œ íƒœê·¸ ì œê±°)\n  return html\n  .replace(/<[^>]*>/g, ' ')\n  .replace(/&nbsp;/g, ' ')\n  .replace(/\\s+/g, ' ')\n  .trim();\n};\n\n\n// ê²Œì‹œê¸€ ë¯¸ë¦¬ë³´ê¸° ì»´í¬ë„ŒíŠ¸ (PostPreview) ìˆ˜ì •\nconst PostPreview: React.FC<{ post: PostEntity }> = ({ post }) => {\n  const router = useRouter();\n  const handlePostClick = () => {\n    router.push(`/post/${post.postId}`);\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('ko-KR');\n  };\n\n  // ğŸŸ¢ [ìˆ˜ì •] stripHtml í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¯¸ë¦¬ë³´ê¸° í…ìŠ¤íŠ¸ ìƒì„±\n  const plainText = stripHtml(post.content);\n  const previewText = plainText.length > 100 ? plainText.substring(0, 100) + \"...\" : plainText;\n\n\n  return (\n      <div className={styles.postPreview} onClick={handlePostClick}>\n        {post.thumbnail && (\n            <img\n                src={post.thumbnail}\n                alt={post.title}\n                className={styles.thumbnail}\n            />\n        )}\n        <div className={styles.postContent}>\n          <h3 className={styles.postTitle}>{post.title}</h3>\n          {/* ğŸŸ¢ [ìˆ˜ì •] ë¯¸ë¦¬ë³´ê¸° í…ìŠ¤íŠ¸ ë Œë”ë§ */}\n          <p className={styles.postSnippet}>{previewText}</p>\n          <div className={styles.postMeta}>\n            <span>ì‘ì„±ì¼: {formatDate(post.createdAt)}</span>\n            <span>ì¡°íšŒìˆ˜: {post.viewCount}</span>\n          </div>\n        </div>\n      </div>\n  );\n};\n\n\n// ğŸ’¡ MyPostsContent í•¨ìˆ˜ (ë©”ì¸ ë¡œì§)\nfunction MyPostsContent({ authorId }: { authorId: string | string[] | undefined }) {\n  const router = useRouter();\n\n  const finalAuthorId = Array.isArray(authorId) ? authorId[0] : authorId;\n\n  const [posts, setPosts] = useState<PostEntity[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [currentPage, setCurrentPage] = useState(0);\n  const [isLastPage, setIsLastPage] = useState(false);\n\n  const currentUserId = typeof window !== \"undefined\" ? localStorage.getItem(\"userSignId\") : null;\n\n  useEffect(() => {\n    if (!finalAuthorId || !router.isReady) {\n      return;\n    }\n\n    const fetchPosts = async (page: number) => {\n      if (page === 0) setIsLoading(true);\n      setError(null);\n\n      try {\n        const response = await getMyPosts(finalAuthorId as string, page);\n        setPosts(prev => page === 0 ? response.content : [...prev, ...response.content]);\n        setIsLastPage(response.last);\n      } catch (err) {\n        setError(\"ê²Œì‹œê¸€ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\");\n        console.error(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchPosts(currentPage);\n  }, [finalAuthorId, router.isReady, currentPage]);\n\n  const handleLoadMore = () => {\n    if (!isLastPage && !isLoading) {\n      setCurrentPage(prev => prev + 1);\n    }\n  };\n\n  if (!finalAuthorId) {\n    return <div className={styles.loading}>ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>;\n  }\n\n  if (isLoading && currentPage === 0) {\n    return <div className={styles.loading}>ê²Œì‹œê¸€ ëª©ë¡ ë¡œë”© ì¤‘...</div>;\n  }\n\n  if (error) {\n    return <div className={styles.error}>{error}</div>;\n  }\n\n  if (posts.length === 0) {\n    return (\n        <div className={styles.container}>\n          <h1 className={styles.pageTitle}>{finalAuthorId}ë‹˜ì˜ ê²Œì‹œë¬¼</h1>\n          <p className={styles.noContent}>ì‘ì„±ëœ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>\n        </div>\n    );\n  }\n\n  return (\n      <div className={styles.container}>\n        <h1 className={styles.pageTitle}>\n          {finalAuthorId}ë‹˜ì˜ ê²Œì‹œë¬¼\n        </h1>\n\n        <div className={styles.postList}>\n          {posts.map(post => (\n              <PostPreview key={post.postId} post={post} />\n          ))}\n        </div>\n\n        {!isLastPage && (\n            <button\n                onClick={handleLoadMore}\n                disabled={isLoading}\n                className={styles.loadMoreButton}\n            >\n              {isLoading ? 'ë¡œë”© ì¤‘...' : 'ë” ë³´ê¸°'}\n            </button>\n        )}\n      </div>\n  );\n}\n\n\nexport default function MyPostsPage() {\n  const router = useRouter();\n  const { userSignId } = router.query;\n\n\n  return (\n      <Layout>\n        <MyPostsContent authorId={userSignId} />\n      </Layout>\n  );\n}"],"names":[],"mappings":"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"}}]
}