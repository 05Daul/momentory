{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/blogService/postDetail.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"activeLike\": \"postDetail-module__4ccv2W__activeLike\",\n  \"authorActions\": \"postDetail-module__4ccv2W__authorActions\",\n  \"centralContent\": \"postDetail-module__4ccv2W__centralContent\",\n  \"deleteButton\": \"postDetail-module__4ccv2W__deleteButton\",\n  \"detailContainer\": \"postDetail-module__4ccv2W__detailContainer\",\n  \"editButton\": \"postDetail-module__4ccv2W__editButton\",\n  \"gridWrapper\": \"postDetail-module__4ccv2W__gridWrapper\",\n  \"leftSidebar\": \"postDetail-module__4ccv2W__leftSidebar\",\n  \"likeButton\": \"postDetail-module__4ccv2W__likeButton\",\n  \"mainContent\": \"postDetail-module__4ccv2W__mainContent\",\n  \"metaRow\": \"postDetail-module__4ccv2W__metaRow\",\n  \"postHeader\": \"postDetail-module__4ccv2W__postHeader\",\n  \"postThumbnail\": \"postDetail-module__4ccv2W__postThumbnail\",\n  \"postTitle\": \"postDetail-module__4ccv2W__postTitle\",\n  \"reactionContainer\": \"postDetail-module__4ccv2W__reactionContainer\",\n  \"shareButton\": \"postDetail-module__4ccv2W__shareButton\",\n  \"sidebar\": \"postDetail-module__4ccv2W__sidebar\",\n  \"stickyBox\": \"postDetail-module__4ccv2W__stickyBox\",\n  \"tagsContainer\": \"postDetail-module__4ccv2W__tagsContainer\",\n  \"tocLevel2\": \"postDetail-module__4ccv2W__tocLevel2\",\n  \"tocLevel3\": \"postDetail-module__4ccv2W__tocLevel3\",\n  \"tocLink\": \"postDetail-module__4ccv2W__tocLink\",\n  \"tocList\": \"postDetail-module__4ccv2W__tocList\",\n  \"tocNav\": \"postDetail-module__4ccv2W__tocNav\",\n  \"tocTitle\": \"postDetail-module__4ccv2W__tocTitle\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/config/env.ts"],"sourcesContent":["export const FEEDSERVICE_API = process.env.NEXT_PUBLIC_FEEDSERVICE_API\nexport const NOTIFICATIONSERVEICE_API = process.env.NEXT_PUBLIC_NOTIFICATIONSERVEICE_API!;\nexport const USERSERVICE_API = process.env.NEXT_PUBLIC_USERSERVICE_API!;\nexport const BLOGSERVICE_API = process.env.NEXT_PUBLIC_BLOGSERVICE_API!;\nexport const CHATSERVICE_API = process.env.NEXT_PUBLIC_CHATSERVICE_API!;\nexport const GATEWAY_API_URL = process.env.NEXT_PUBLIC_GATEWAY_API!;\nexport const COMMUNITYSERVICE_API = process.env.NEXT_PUBLIC_COMMUNITYSERVICE_API!;\nexport const FRIENDSSERVICE_API = process.env.NEXT_PUBLIC_FRIENDSSERVICE_API!;\n\nif (!FEEDSERVICE_API) throw new Error('NEXT_PUBLIC_FEEDSERVICE_API ëˆ„ë½!');\nif (!NOTIFICATIONSERVEICE_API) throw new Error('NEXT_PUBLIC_NOTIFICATIONSERVEICE_API ëˆ„ë½!');\nif (!USERSERVICE_API) throw new Error('NEXT_PUBLIC_USERSERVICE_API ëˆ„ë½!');\nif (!BLOGSERVICE_API) throw new Error('NEXT_PUBLIC_BLOGSERVICE_API ëˆ„ë½!');\nif (!CHATSERVICE_API) throw new Error('NEXT_PUBLIC_CHATSERVICE_API ëˆ„ë½!');\nif (!GATEWAY_API_URL) throw new Error('NEXT_PUBLIC_GATEWAY_API ëˆ„ë½!');\nif (!COMMUNITYSERVICE_API) throw new Error('NEXT_PUBLIC_COMMUNITYSERVICE_API ëˆ„ë½!');\nif (!FRIENDSSERVICE_API) throw new Error('NEXT_PUBLIC_FRIENDSSERVICE_API ëˆ„ë½!');\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAO,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AACN,MAAM;AAEb;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA"}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/api/blogService/blog.ts"],"sourcesContent":["import {BLOGSERVICE_API} from \"../../config/env\"\nimport {\n  LikeToggleResponseDTO,\n  PaginatedResponse,\n  PostCreationRequestDTO,\n  PostEntity,\n  PostDetailDTO\n} from \"../../types/blogService/blogType\"\n\n\n\nexport async function getPostTags(postId: number): Promise<string[]> {\n  const url = `${BLOGSERVICE_API}/tags?postId=${postId}`;\n\n  const response = await fetch(url, {\n    method: \"GET\",\n  });\n\n  if (response.ok) {\n    return await response.json();\n  } else {\n    const errorText = await response.text().catch(() => \" \")\n    const errorMessage = errorText || `íƒœê·¸ ì¡°íšŒ ì‹¤íŒ¨: HTTP ${response.status} ì‘ë‹µ`;\n    throw new Error(errorMessage);\n  }\n}\n\nexport const searchPosts = async (\n    keyword: string,\n    page: number = 0,\n    size: number = 10\n): Promise<PaginatedResponse<PostEntity>> => {\n  try {\n    const response = await fetch(\n        `${BLOGSERVICE_API}/search?keyword=${encodeURIComponent(keyword)}&page=${page}&size=${size}`,\n        {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        }\n    );\n\n    if (!response.ok) {\n      throw new Error('Failed to search posts');\n    }\n\n    return await response.json();\n  } catch (error) {\n    console.error('Error searching posts:', error);\n    throw error;\n  }\n};\nexport async function uploadImage(file: File): Promise<{ url: string }> {\n  const url = `${BLOGSERVICE_API}/upload`;\n\n  const formData = new FormData();\n  formData.append(\"file\", file);\n\n  const response = await fetch(url, {\n    method: \"POST\",\n    body: formData,\n  });\n\n  if (response.ok) {\n    // ë°±ì—”ë“œì—ì„œ { \"url\": \"...\" } í˜•íƒœì˜ JSONì„ ë°˜í™˜\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\nexport async function toggleLike(postId: number, userSignId: string): Promise<LikeToggleResponseDTO> {\n  const url = `${BLOGSERVICE_API}/likes/${postId}`;\n\n  try {\n    const response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"userSignId\": userSignId, // í—¤ë”ì— userSignId í¬í•¨\n      },\n    });\n\n    if (response.ok) {\n      return await response.json(); // { isLiked: true, likeCount: 10 } ë°˜í™˜\n    } else {\n      const errorText = await response.text();\n      throw new Error(errorText || `ì¢‹ì•„ìš” ì²˜ë¦¬ ì‹¤íŒ¨: HTTP ${response.status}`);\n    }\n  } catch (error) {\n    console.error(\"ì¢‹ì•„ìš” API ì˜¤ë¥˜:\", error);\n    throw error;\n  }\n}\n\n\n// âœ… [ìˆ˜ì •] DTOë¥¼ ì§ì ‘ ë°›ì•„ JSON ë³¸ë¬¸ìœ¼ë¡œ ì „ì†¡í•˜ë„ë¡ ë³€ê²½\nexport async function writeFeed(postData: PostCreationRequestDTO, userSignId: string): Promise<PostEntity> {\n  console.log(\"ê¸€ì“°ê¸° ë©”ì„œë“œ ì‹¤í–‰ (JSON DTO ë°©ì‹)\");\n  const url = `${BLOGSERVICE_API}/write`;\n\n  const response = await fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"userSignId\": userSignId,\n    },\n    body: JSON.stringify(postData), // DTOë¥¼ JSON ë³¸ë¬¸ìœ¼ë¡œ ì „ì†¡\n  });\n\n  if (response.ok) {\n    return await response.json(); // PostEntity ë°˜í™˜\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œê¸€ ë“±ë¡ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\n\nexport async function readPost(postId: number): Promise<PostDetailDTO> {\n  const url = `${BLOGSERVICE_API}/${postId}`;\n\n  const response = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  });\n\n  if (response.ok) {\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œê¸€ ì¡°íšŒ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\n// âœ… [ìˆ˜ì •] updatePostì˜ userSignId ì¸ì ìœ„ì¹˜ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì™€ ì¼ì¹˜\nexport async function updatePost(postId: number, postData: PostCreationRequestDTO, userSignId: string): Promise<PostEntity> {\n  const url = `${BLOGSERVICE_API}/write/${postId}`;\n\n  const response = await fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"userSignId\": userSignId, // í—¤ë”ì— userSignId í¬í•¨\n    },\n    body: JSON.stringify(postData),\n  });\n\n  if (response.ok) {\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œê¸€ ìˆ˜ì • ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\nexport async function deleteFeed(postId: number, userSignId: string): Promise<void> {\n  const url = `${BLOGSERVICE_API}/${postId}`;\n\n  const response = await fetch(url, {\n    method: \"DELETE\",\n    headers: {\n      \"userSignId\": userSignId, // í—¤ë”ì— userSignId í¬í•¨\n    },\n  });\n\n  if (!response.ok) {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œê¸€ ì‚­ì œ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\nexport async function incrementViewCount(postId: number): Promise<string> {\n  const url = `${BLOGSERVICE_API}/view?postId=${postId}`;\n\n  const response = await fetch(url, {\n    method: \"POST\",\n  });\n\n  if (response.ok) {\n    return await response.text(); // \"ì¡°íšŒìˆ˜ê°€ ì¦ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.\"\n  } else {\n    const errorText = await response.text(); // ì˜¤ë¥˜ ë©”ì‹œì§€ ë°˜í™˜\n    throw new Error(errorText || `ì¡°íšŒìˆ˜ ì¦ê°€ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\nexport async function getTrendingPosts(page: number = 0, size: number = 10): Promise<PaginatedResponse<PostEntity>> {\n  const url = `${BLOGSERVICE_API}/trending?page=${page}&size=${size}`;\n\n  const response = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    }\n  });\n\n  if (response.ok) {\n    // ë°±ì—”ë“œì—ì„œ Page<PostEntity> í˜•íƒœë¡œ ë°˜í™˜ëœ JSONì„ íŒŒì‹±\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œë¬¼ ì¡°íšŒ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\nexport async function getMyPosts(userSignId: string,page: number = 0, size: number = 10): Promise<PaginatedResponse<PostEntity>> {\n  const url = `${BLOGSERVICE_API}/my-posts/${userSignId}?page=${page}&size=${size}`;\n  const response = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"authorId\": userSignId,\n      \"Content-Type\": \"application/json\",\n    }\n  });\n\n  if (response.ok) {\n    // ë°±ì—”ë“œì—ì„œ Page<PostEntity> í˜•íƒœë¡œ ë°˜í™˜ëœ JSONì„ íŒŒì‹±\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œë¬¼ ì¡°íšŒ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\n\nexport async function getRecentPosts(page: number = 0, size: number = 10): Promise<PaginatedResponse<PostEntity>> {\n  const url = `${BLOGSERVICE_API}/recent?page=${page}&size=${size}`;\n\n  const response = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    }\n  });\n\n  if (response.ok) {\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œë¬¼ ì¡°íšŒ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}\nexport async function getFriendsPosts(userSignId: string, page: number = 0, size: number = 10): Promise<PaginatedResponse<PostEntity>> {\n  const url = `${BLOGSERVICE_API}/feed?page=${page}&size=${size}`;\n\n  const token = localStorage.getItem('accessToken')\n  console.log(\"--- Friends Posts API Call Debug ---\");\n  console.log(`User Sign ID: ${userSignId}`);\n  console.log(`Token Key Check: 'accessToken'`);\n  console.log(\"------------------------------------\");\n  const response = await fetch(url, {\n    method: \"POST\",\n    credentials: \"include\",\n    headers: {\n      \"userSignId\": userSignId,\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`,  // ì´ í•œ ì¤„ ì¶”ê°€! localStorage í† í° ì‚¬ìš©\n    }\n  });\n\n  if (response.ok) {\n    return await response.json();\n  } else {\n    const errorText = await response.text();\n    throw new Error(errorText || `ê²Œì‹œë¬¼ ì¡°íšŒ ì‹¤íŒ¨: HTTP ${response.status}`);\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/component/blogService/LikeShareSidebar.tsx"],"sourcesContent":["// src/component/blogService/LikeShareSidebar.tsx\n'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport styles from '@/styles/blogService/postDetail.module.css';\nimport { toggleLike } from '@/api/blogService/blog'; // API í•¨ìˆ˜ import\n\ninterface LikeShareSidebarProps {\n  postId: number;\n  initialLikeCount?: number; // ë‚˜ì¤‘ì— ë¶€ëª¨ë¡œë¶€í„° ë°›ì„ ì´ˆê¸° ì¢‹ì•„ìš” ìˆ˜\n  initialIsLiked?: boolean;  // ë‚˜ì¤‘ì— ë¶€ëª¨ë¡œë¶€í„° ë°›ì„ ì´ˆê¸° ì¢‹ì•„ìš” ìƒíƒœ\n}\n\nexport default function LikeShareSidebar({\n                                           postId,\n                                           initialLikeCount = 0,\n                                           initialIsLiked = false\n                                         }: LikeShareSidebarProps) {\n\n  const [likeCount, setLikeCount] = useState(initialLikeCount);\n  const [isLiked, setIsLiked] = useState(initialIsLiked);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // (ì„ íƒ ì‚¬í•­) propsë¡œ ì´ˆê¸°ê°’ì´ ë‚˜ì¤‘ì— ë“¤ì–´ì˜¬ ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ ìƒíƒœ ë™ê¸°í™”\n  useEffect(() => {\n    setLikeCount(initialLikeCount);\n    setIsLiked(initialIsLiked);\n  }, [initialLikeCount, initialIsLiked]);\n\n  const handleLike = async () => {\n    // 1. ë¡œê·¸ì¸ í™•ì¸\n    const userSignId = localStorage.getItem('userSignId');\n    if (!userSignId) {\n      alert(\"ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.\");\n      return;\n    }\n\n    if (isLoading) return; // ì¤‘ë³µ í´ë¦­ ë°©ì§€\n    setIsLoading(true);\n\n    try {\n      // 2. API í˜¸ì¶œ\n      const result = await toggleLike(postId, userSignId);\n\n      // 3. ìƒíƒœ ì—…ë°ì´íŠ¸ (ì„œë²„ ì‘ë‹µê°’ìœ¼ë¡œ ê°±ì‹ )\n      setIsLiked(result.isLiked);\n      setLikeCount(result.likeCount);\n\n    } catch (error) {\n      console.error(\"ì¢‹ì•„ìš” ì‹¤íŒ¨:\", error);\n      alert(\"ì¢‹ì•„ìš” ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleShare = () => {\n    const shareUrl = `${window.location.origin}/post/${postId}`;\n    navigator.clipboard.writeText(shareUrl)\n    .then(() => alert('ê²Œì‹œë¬¼ ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.'))\n    .catch(err => console.error('í´ë¦½ë³´ë“œ ë³µì‚¬ ì‹¤íŒ¨:', err));\n  };\n\n  return (\n      <div className={styles.reactionContainer}>\n        <button\n            onClick={handleLike}\n            className={`${styles.likeButton} ${isLiked ? styles.activeLike : ''}`} // ì¢‹ì•„ìš” ìƒíƒœì¼ ë•Œ ìŠ¤íƒ€ì¼ ì¶”ê°€ ê°€ëŠ¥\n            title={isLiked ? \"ì¢‹ì•„ìš” ì·¨ì†Œ\" : \"ì¢‹ì•„ìš”\"}\n            disabled={isLoading}\n        >\n          {/* ì¢‹ì•„ìš” ìƒíƒœì— ë”°ë¼ ì•„ì´ì½˜ ë³€ê²½ (ì±„ì›Œì§„ í•˜íŠ¸ / ë¹ˆ í•˜íŠ¸) */}\n          {isLiked ? 'â¤ï¸' : 'ğŸ¤'}\n          <span>{likeCount}</span>\n        </button>\n\n        <button\n            onClick={handleShare}\n            className={styles.shareButton}\n            title=\"ê³µìœ  ë§í¬ ë³µì‚¬\"\n        >\n          ğŸ”—\n        </button>\n      </div>\n  );\n}"],"names":[],"mappings":"AAAA,iDAAiD;;;;;;AAGjD;AACA;AACA,sNAAqD,gBAAgB;AAJrE;;;;;AAYe,SAAS,iBAAiB,EACE,MAAM,EACN,mBAAmB,CAAC,EACpB,iBAAiB,KAAK,EACA;IAE/D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAE3C,6CAA6C;IAC7C,IAAA,gHAAS,EAAC;QACR,aAAa;QACb,WAAW;IACb,GAAG;QAAC;QAAkB;KAAe;IAErC,MAAM,aAAa;QACjB,YAAY;QACZ,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,CAAC,YAAY;YACf,MAAM;YACN;QACF;QAEA,IAAI,WAAW,QAAQ,WAAW;QAClC,aAAa;QAEb,IAAI;YACF,YAAY;YACZ,MAAM,SAAS,MAAM,IAAA,wIAAU,EAAC,QAAQ;YAExC,2BAA2B;YAC3B,WAAW,OAAO,OAAO;YACzB,aAAa,OAAO,SAAS;QAE/B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,WAAW;YACzB,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,cAAc;QAClB,MAAM,WAAW,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,QAAQ;QAC3D,UAAU,SAAS,CAAC,SAAS,CAAC,UAC7B,IAAI,CAAC,IAAM,MAAM,2BACjB,KAAK,CAAC,CAAA,MAAO,QAAQ,KAAK,CAAC,eAAe;IAC7C;IAEA,qBACI,qKAAC;QAAI,WAAW,0JAAM,CAAC,iBAAiB;;0BACtC,qKAAC;gBACG,SAAS;gBACT,WAAW,GAAG,0JAAM,CAAC,UAAU,CAAC,CAAC,EAAE,UAAU,0JAAM,CAAC,UAAU,GAAG,IAAI;gBACrE,OAAO,UAAU,WAAW;gBAC5B,UAAU;;oBAGX,UAAU,OAAO;kCAClB,qKAAC;kCAAM;;;;;;;;;;;;0BAGT,qKAAC;gBACG,SAAS;gBACT,WAAW,0JAAM,CAAC,WAAW;gBAC7B,OAAM;0BACT;;;;;;;;;;;;AAKT"}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/component/blogService/ProgressBar.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef } from 'react'; // ğŸ’¡ useRef ì„í¬íŠ¸\n\nexport default function ProgressBar() {\n  // ğŸŸ¢ 1. useRefë¥¼ ì‚¬ìš©í•˜ì—¬ DOM ìš”ì†Œë¥¼ ì°¸ì¡°í•  ë ˆí¼ëŸ°ìŠ¤ë¥¼ ìƒì„±\n  const progressBarRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const updateProgress = () => {\n      const scrolled = window.scrollY;\n      const height = document.documentElement.scrollHeight - window.innerHeight;\n      const progress = height > 0 ? (scrolled / height) * 100 : 0;\n\n      if (progressBarRef.current) {\n        // document.getElementById() ëŒ€ì‹  ref.current ì‚¬ìš©\n        progressBarRef.current.style.width = `${progress}%`;\n      }\n    };\n\n    updateProgress();\n\n    window.addEventListener('scroll', updateProgress);\n    return () => window.removeEventListener('scroll', updateProgress);\n  }, []);\n\n  return (\n      <div className=\"fixed top-0 left-0 w-full h-1 bg-gray-200 z-50 pointer-events-none\">\n        <div\n            ref={progressBarRef} // ğŸŸ¢ 3. ìƒì„±í•œ refë¥¼ ìš”ì†Œì— ì—°ê²°\n            id=\"progress-bar\" // IDëŠ” ìœ ì§€í•´ë„ ë¬´ë°©í•˜ì§€ë§Œ, useRefê°€ ì£¼ ì ‘ê·¼ ë°©ì‹ì´ ë©ë‹ˆë‹¤.\n            className=\"h-full bg-green-500 transition-all duration-150\"\n            style={{ width: '0%' }}\n        />\n      </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA,gLAA2C,gBAAgB;AAF3D;;;AAIe,SAAS;IACtB,0CAA0C;IAC1C,MAAM,iBAAiB,IAAA,6GAAM,EAAiB;IAE9C,IAAA,gHAAS,EAAC;QACR,MAAM,iBAAiB;YACrB,MAAM,WAAW,OAAO,OAAO;YAC/B,MAAM,SAAS,SAAS,eAAe,CAAC,YAAY,GAAG,OAAO,WAAW;YACzE,MAAM,WAAW,SAAS,IAAI,AAAC,WAAW,SAAU,MAAM;YAE1D,IAAI,eAAe,OAAO,EAAE;gBAC1B,8CAA8C;gBAC9C,eAAe,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,SAAS,CAAC,CAAC;YACrD;QACF;QAEA;QAEA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,qBACI,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YACG,KAAK;YACL,IAAG;YACH,WAAU;YACV,OAAO;gBAAE,OAAO;YAAK;;;;;;;;;;;AAIjC"}},
    {"offset": {"line": 497, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/component/blogService/TableOfContents.tsx"],"sourcesContent":["// src/component/blogService/TableOfContents.tsx (ìƒˆ íŒŒì¼)\n\n'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport styles from '@/styles/blogService/postDetail.module.css';\n\ninterface TocItem {\n  id: string;\n  text: string;\n  level: number;\n}\n\nexport default function TableOfContents({ content }: { content: string }) {\n  const [tocItems, setTocItems] = useState<TocItem[]>([]);\n\n  // ğŸ’¡ [ìˆ˜ì •] PostContentê°€ ë Œë”ë§í•œ ì‹¤ì œ DOMì—ì„œ ì œëª© íƒœê·¸ë¥¼ ìŠ¤ìº”í•˜ì—¬ ëª©ì°¨ë¥¼ ë§Œë“­ë‹ˆë‹¤.\n  useEffect(() => {\n    const scanHeadings = () => {\n      const scannedItems: TocItem[] = [];\n      // article.mainContent ë‚´ë¶€ì˜ H1, H2, H3 íƒœê·¸ ì¤‘ IDê°€ ìˆëŠ” ê²ƒì„ ì°¾ìŠµë‹ˆë‹¤.\n      document.querySelectorAll('article h1[id], article h2[id], article h3[id]').forEach((heading) => {\n        const id = heading.getAttribute('id');\n        const text = heading.textContent;\n        const level = parseInt(heading.tagName[1], 10);\n\n        if (id && text && text.trim().length > 0) {\n          scannedItems.push({ id, text: text.trim(), level });\n        }\n      });\n      setTocItems(scannedItems);\n    };\n\n    // DOMì´ ì™„ì „íˆ ì—…ë°ì´íŠ¸ëœ í›„ ìŠ¤ìº”í•˜ë„ë¡ ë³´ì¥ (PostContentì˜ innerHTML ì ìš© í›„)\n    const timeoutId = setTimeout(scanHeadings, 100);\n\n    return () => clearTimeout(timeoutId);\n  }, [content]);\n\n\n  // ğŸ–±ï¸ ìŠ¤í¬ë¡¤ ì´ë™ ë¡œì§: í´ë¦­ ì‹œ ë¶€ë“œëŸ½ê²Œ ì´ë™\n  const handleScrollTo = (e: React.MouseEvent<HTMLAnchorElement>, id: string) => {\n    e.preventDefault();\n    const element = document.getElementById(id);\n    if (element) {\n      element.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n    }\n  };\n\n\n  // ëª©ì°¨ê°€ ì—†ìœ¼ë©´ null ë°˜í™˜ (PostDetail.tsxì—ì„œ ì´ë¯¸ ì¡°ê±´ë¶€ ë Œë”ë§ í–ˆì§€ë§Œ ì•ˆì „ ì¥ì¹˜)\n  if (tocItems.length === 0) {\n    return null;\n  }\n\n  return (\n      <nav className={styles.tocNav}>\n        {/* ğŸ’¡ ìš”ì²­ì— ë”°ë¼ ëª©ì°¨ ì œëª© íƒœê·¸ ì¶”ê°€ */}\n        <h4 className={styles.tocTitle}>ëª©ì°¨</h4>\n        <ul className={styles.tocList}>\n          {tocItems.map((item, index) => (\n              <li\n                  key={index}\n                  // CSS ëª¨ë“ˆì— ì •ì˜ëœ ë ˆë²¨ë³„ ë“¤ì—¬ì“°ê¸° í´ë˜ìŠ¤ ì‚¬ìš© (ì˜ˆ: tocLevel2, tocLevel3)\n                  className={styles[`tocLevel${item.level}`]}\n              >\n                <a\n                    href={`#${item.id}`}\n                    className={styles.tocLink}\n                    onClick={(e) => handleScrollTo(e, item.id)}\n                >\n                  {item.text}\n                </a>\n              </li>\n          ))}\n        </ul>\n      </nav>\n  );\n}"],"names":[],"mappings":"AAAA,uDAAuD;;;;;;AAIvD;AACA;AAHA;;;;AAWe,SAAS,gBAAgB,EAAE,OAAO,EAAuB;IACtE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAY,EAAE;IAEtD,2DAA2D;IAC3D,IAAA,gHAAS,EAAC;QACR,MAAM,eAAe;YACnB,MAAM,eAA0B,EAAE;YAClC,0DAA0D;YAC1D,SAAS,gBAAgB,CAAC,kDAAkD,OAAO,CAAC,CAAC;gBACnF,MAAM,KAAK,QAAQ,YAAY,CAAC;gBAChC,MAAM,OAAO,QAAQ,WAAW;gBAChC,MAAM,QAAQ,SAAS,QAAQ,OAAO,CAAC,EAAE,EAAE;gBAE3C,IAAI,MAAM,QAAQ,KAAK,IAAI,GAAG,MAAM,GAAG,GAAG;oBACxC,aAAa,IAAI,CAAC;wBAAE;wBAAI,MAAM,KAAK,IAAI;wBAAI;oBAAM;gBACnD;YACF;YACA,YAAY;QACd;QAEA,0DAA0D;QAC1D,MAAM,YAAY,WAAW,cAAc;QAE3C,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;KAAQ;IAGZ,8BAA8B;IAC9B,MAAM,iBAAiB,CAAC,GAAwC;QAC9D,EAAE,cAAc;QAChB,MAAM,UAAU,SAAS,cAAc,CAAC;QACxC,IAAI,SAAS;YACX,QAAQ,cAAc,CAAC;gBACrB,UAAU;gBACV,OAAO;YACT;QACF;IACF;IAGA,0DAA0D;IAC1D,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,OAAO;IACT;IAEA,qBACI,qKAAC;QAAI,WAAW,0JAAM,CAAC,MAAM;;0BAE3B,qKAAC;gBAAG,WAAW,0JAAM,CAAC,QAAQ;0BAAE;;;;;;0BAChC,qKAAC;gBAAG,WAAW,0JAAM,CAAC,OAAO;0BAC1B,SAAS,GAAG,CAAC,CAAC,MAAM,sBACjB,qKAAC;wBAEG,wDAAwD;wBACxD,WAAW,0JAAM,CAAC,CAAC,QAAQ,EAAE,KAAK,KAAK,EAAE,CAAC;kCAE5C,cAAA,qKAAC;4BACG,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE;4BACnB,WAAW,0JAAM,CAAC,OAAO;4BACzB,SAAS,CAAC,IAAM,eAAe,GAAG,KAAK,EAAE;sCAE1C,KAAK,IAAI;;;;;;uBATL;;;;;;;;;;;;;;;;AAgBvB"}},
    {"offset": {"line": 610, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/component/blogService/PostContent.tsx"],"sourcesContent":["// src/component/blogService/PostContent.tsx\n\n'use client';\n\nimport { useEffect, useRef } from 'react';\nimport hljs from 'highlight.js';\nimport 'highlight.js/styles/atom-one-dark.css';\n\ninterface PostContentProps {\n  content: string;\n}\n\n// ì œëª© íƒœê·¸ì— IDë¥¼ ìë™ìœ¼ë¡œ ë¶€ì—¬í•˜ëŠ” í•¨ìˆ˜\nfunction assignIdsToHeadings(contentHtml: string): string {\n  let sectionIndex = 1;\n  return contentHtml.replace(/<h([1-3])(.*?)>(.*?)<\\/h\\1>/gi, (match, level, attrs, text) => {\n    const slug = text.trim().replace(/\\s+/g, '-').replace(/[^\\w-]/g, '');\n    const id = `section-${sectionIndex++}-${slug}`;\n    return `<h${level} id=\"${id}\"${attrs}>${text}</h${level}>`;\n  });\n}\n\nexport default function PostContent({ content }: PostContentProps) {\n  const contentRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (contentRef.current) {\n      const contentWithIds = assignIdsToHeadings(content);\n      contentRef.current.innerHTML = contentWithIds;\n\n      // ì½”ë“œ í•˜ì´ë¼ì´íŒ… ì ìš©\n      contentRef.current.querySelectorAll('pre code').forEach((block) => {\n        hljs.highlightElement(block as HTMLElement);\n      });\n    }\n  }, [content]);\n\n  return (\n      <div\n          ref={contentRef}\n          style={{\n            wordBreak: 'break-word',\n            whiteSpace: 'pre-wrap', // âœ… ê³µë°±ê³¼ ì¤„ë°”ê¿ˆ ë³´ì¡´\n            lineHeight: '1.5' // âœ… ì¤„ ë†’ì´ ëª…ì‹œ\n          }}\n          className=\"prose prose-lg max-w-none leading-relaxed\n                 prose-pre:bg-gray-900 prose-pre:p-4 prose-pre:rounded-lg\n                 prose-code:text-sm prose-code:font-mono\n                 prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl\n                 prose-p:whitespace-pre-wrap prose-p:min-h-[1.5em] prose-p:leading-[1.5]\"\n      />\n  );\n}"],"names":[],"mappings":"AAAA,4CAA4C;;;;;;AAI5C;AACA;;;;;AAHA;;;;;AAUA,0BAA0B;AAC1B,SAAS,oBAAoB,WAAmB;IAC9C,IAAI,eAAe;IACnB,OAAO,YAAY,OAAO,CAAC,iCAAiC,CAAC,OAAO,OAAO,OAAO;QAChF,MAAM,OAAO,KAAK,IAAI,GAAG,OAAO,CAAC,QAAQ,KAAK,OAAO,CAAC,WAAW;QACjE,MAAM,KAAK,CAAC,QAAQ,EAAE,eAAe,CAAC,EAAE,MAAM;QAC9C,OAAO,CAAC,EAAE,EAAE,MAAM,KAAK,EAAE,GAAG,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG,EAAE,MAAM,CAAC,CAAC;IAC5D;AACF;AAEe,SAAS,YAAY,EAAE,OAAO,EAAoB;IAC/D,MAAM,aAAa,IAAA,6GAAM,EAAiB;IAE1C,IAAA,gHAAS,EAAC;QACR,IAAI,WAAW,OAAO,EAAE;YACtB,MAAM,iBAAiB,oBAAoB;YAC3C,WAAW,OAAO,CAAC,SAAS,GAAG;YAE/B,cAAc;YACd,WAAW,OAAO,CAAC,gBAAgB,CAAC,YAAY,OAAO,CAAC,CAAC;gBACvD,yIAAI,CAAC,gBAAgB,CAAC;YACxB;QACF;IACF,GAAG;QAAC;KAAQ;IAEZ,qBACI,qKAAC;QACG,KAAK;QACL,OAAO;YACL,WAAW;YACX,YAAY;YACZ,YAAY,MAAM,YAAY;QAChC;QACA,WAAU;;;;;;AAOpB"}},
    {"offset": {"line": 668, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/blogService/commentSection.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"commentActions\": \"commentSection-module__9ZiFnW__commentActions\",\n  \"commentAuthor\": \"commentSection-module__9ZiFnW__commentAuthor\",\n  \"commentAvatar\": \"commentSection-module__9ZiFnW__commentAvatar\",\n  \"commentContent\": \"commentSection-module__9ZiFnW__commentContent\",\n  \"commentDate\": \"commentSection-module__9ZiFnW__commentDate\",\n  \"commentForm\": \"commentSection-module__9ZiFnW__commentForm\",\n  \"commentHeader\": \"commentSection-module__9ZiFnW__commentHeader\",\n  \"commentItem\": \"commentSection-module__9ZiFnW__commentItem\",\n  \"commentList\": \"commentSection-module__9ZiFnW__commentList\",\n  \"commentSection\": \"commentSection-module__9ZiFnW__commentSection\",\n  \"commentTextarea\": \"commentSection-module__9ZiFnW__commentTextarea\",\n  \"commentTitle\": \"commentSection-module__9ZiFnW__commentTitle\",\n  \"deleteButton\": \"commentSection-module__9ZiFnW__deleteButton\",\n  \"editButton\": \"commentSection-module__9ZiFnW__editButton\",\n  \"info\": \"commentSection-module__9ZiFnW__info\",\n  \"replyButton\": \"commentSection-module__9ZiFnW__replyButton\",\n  \"replyForm\": \"commentSection-module__9ZiFnW__replyForm\",\n  \"replyToggle\": \"commentSection-module__9ZiFnW__replyToggle\",\n  \"submitButton\": \"commentSection-module__9ZiFnW__submitButton\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 693, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/api/blogService/comment.ts"],"sourcesContent":["// @/api/blogService/comment.ts\nimport { BLOGSERVICE_API } from \"../../config/env\";\nimport { CommentCreationRequestDTO, CommentDTO, CommentUpdateRequestDTO } from \"../../types/blogService/blogType\";\n\nexport async function createComment(userSignId: string, dto: CommentCreationRequestDTO): Promise<CommentDTO> {\n  const res = await fetch(`${BLOGSERVICE_API}/comments`, {\n    method: \"POST\",\n    headers: { \"userSignId\": userSignId, \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ postId: dto.postId, content: dto.content, parentId: dto.parentCommentId }),\n  });\n  if (!res.ok) throw new Error(\"ëŒ“ê¸€ ì‘ì„± ì‹¤íŒ¨\");\n  return mapToReplies(await res.json());\n}\n\nexport async function updateComment(commentId: number, userSignId: string, dto: CommentUpdateRequestDTO): Promise<CommentDTO> {\n  const res = await fetch(`${BLOGSERVICE_API}/comments/${commentId}`, {\n    method: \"PUT\",\n    headers: { \"userSignId\": userSignId, \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(dto),\n  });\n  if (!res.ok) throw new Error(\"ìˆ˜ì • ì‹¤íŒ¨\");\n  return mapToReplies(await res.json());\n}\n\nexport async function deleteComment(commentId: number, userSignId: string): Promise<string> {\n  const res = await fetch(`${BLOGSERVICE_API}/comments/${commentId}`, { method: \"DELETE\", headers: { \"userSignId\": userSignId } });\n  if (res.status === 403) return \"ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.\";\n  if (!res.ok) throw new Error(\"ì‚­ì œ ì‹¤íŒ¨\");\n  return await res.text();\n}\n\nexport async function getCommentCount(postId: number): Promise<number> {\n  const res = await fetch(`${BLOGSERVICE_API}/comments/count?postId=${postId}`);\n  if (!res.ok) return 0;\n  return parseInt(await res.text(), 10);\n}\n\n\nfunction mapToReplies(comment: any): CommentDTO {\n  return {\n    commentId: comment.commentId,\n    postId: comment.postId,\n    userId: comment.userId,\n    parentId: comment.parentId ?? null,\n    content: comment.isDeleted ? \"(ì‚­ì œëœ ëŒ“ê¸€)\" : comment.content,\n    isDeleted: comment.isDeleted ?? false,\n    createdAt: comment.createdAt,\n    updatedAt: comment.updatedAt,\n    childCount: comment.childCount ?? 0,\n    replies: comment.childComments && comment.childComments.length > 0\n        ? comment.childComments.map(mapToReplies)\n        : [],\n  };\n}\n\nexport async function getCommentsByPostId(postId: number): Promise<CommentDTO[]> {\n  const res = await fetch(`${BLOGSERVICE_API}/comments?postId=${postId}`);\n  if (!res.ok) return [];\n\n  const raw: any[] = await res.json();\n  return raw.map(mapToReplies);\n}"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;;;;;;;;AAC/B;;AAGO,eAAe,cAAc,UAAkB,EAAE,GAA8B;IACpF,MAAM,MAAM,MAAM,MAAM,GAAG,gIAAe,CAAC,SAAS,CAAC,EAAE;QACrD,QAAQ;QACR,SAAS;YAAE,cAAc;YAAY,gBAAgB;QAAmB;QACxE,MAAM,KAAK,SAAS,CAAC;YAAE,QAAQ,IAAI,MAAM;YAAE,SAAS,IAAI,OAAO;YAAE,UAAU,IAAI,eAAe;QAAC;IACjG;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,aAAa,MAAM,IAAI,IAAI;AACpC;AAEO,eAAe,cAAc,SAAiB,EAAE,UAAkB,EAAE,GAA4B;IACrG,MAAM,MAAM,MAAM,MAAM,GAAG,gIAAe,CAAC,UAAU,EAAE,WAAW,EAAE;QAClE,QAAQ;QACR,SAAS;YAAE,cAAc;YAAY,gBAAgB;QAAmB;QACxE,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,aAAa,MAAM,IAAI,IAAI;AACpC;AAEO,eAAe,cAAc,SAAiB,EAAE,UAAkB;IACvE,MAAM,MAAM,MAAM,MAAM,GAAG,gIAAe,CAAC,UAAU,EAAE,WAAW,EAAE;QAAE,QAAQ;QAAU,SAAS;YAAE,cAAc;QAAW;IAAE;IAC9H,IAAI,IAAI,MAAM,KAAK,KAAK,OAAO;IAC/B,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,MAAM,IAAI,IAAI;AACvB;AAEO,eAAe,gBAAgB,MAAc;IAClD,MAAM,MAAM,MAAM,MAAM,GAAG,gIAAe,CAAC,uBAAuB,EAAE,QAAQ;IAC5E,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;IACpB,OAAO,SAAS,MAAM,IAAI,IAAI,IAAI;AACpC;AAGA,SAAS,aAAa,OAAY;IAChC,OAAO;QACL,WAAW,QAAQ,SAAS;QAC5B,QAAQ,QAAQ,MAAM;QACtB,QAAQ,QAAQ,MAAM;QACtB,UAAU,QAAQ,QAAQ,IAAI;QAC9B,SAAS,QAAQ,SAAS,GAAG,aAAa,QAAQ,OAAO;QACzD,WAAW,QAAQ,SAAS,IAAI;QAChC,WAAW,QAAQ,SAAS;QAC5B,WAAW,QAAQ,SAAS;QAC5B,YAAY,QAAQ,UAAU,IAAI;QAClC,SAAS,QAAQ,aAAa,IAAI,QAAQ,aAAa,CAAC,MAAM,GAAG,IAC3D,QAAQ,aAAa,CAAC,GAAG,CAAC,gBAC1B,EAAE;IACV;AACF;AAEO,eAAe,oBAAoB,MAAc;IACtD,MAAM,MAAM,MAAM,MAAM,GAAG,gIAAe,CAAC,iBAAiB,EAAE,QAAQ;IACtE,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO,EAAE;IAEtB,MAAM,MAAa,MAAM,IAAI,IAAI;IACjC,OAAO,IAAI,GAAG,CAAC;AACjB"}},
    {"offset": {"line": 776, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/api/userService/user.ts"],"sourcesContent":["// src/api/userService/user.ts (ìµœì¢… ì™„ì„±ë³¸)\n\nimport { USERSERVICE_API } from \"@/config/env\";\nimport {\n  UserDTO,\n  LoginDTO,\n  FriendReqDTO,\n  FriendsResDTO,\n} from \"@/types/userService/user\";\n\n// ê³µí†µ ì‘ë‹µ íƒ€ì…\ninterface ApiResponse {\n  success: boolean;\n  message?: string;\n}\n\n// ì¤‘ë³µ ì²´í¬ ì‘ë‹µ íƒ€ì… (ë°±ì—”ë“œì—ì„œ \"exists\" ë˜ëŠ” \"not exists\" ê°™ì€ ë¬¸ìì—´ ë°˜í™˜ ì˜ˆìƒ)\ninterface DuplicateCheckResponse {\n  available: boolean;   // í”„ë¡ íŠ¸ì—ì„œ ì“°ê¸° ì¢‹ê²Œ í†µì¼\n}\n\nexport interface UserProfile {\n  userSignId: string;\n  userName: string;\n  nickName: string;\n  email: string;\n  profileImg: string | null;\n}\n\nexport async function uploadProfileImage(userSignId: string, imageFile: File): Promise<{ profileImg: string }> {\n  const formData = new FormData();\n  formData.append('file', imageFile);\n\n  const response = await fetch(`${USERSERVICE_API}/profile/image`, {\n    method: 'POST',\n    headers: {\n      // íŒŒì¼ ì—…ë¡œë“œëŠ” Content-Typeì„ 'multipart/form-data'ë¡œ ëª…ì‹œí•˜ì§€ ì•Šì•„ì•¼\n      // ë¸Œë¼ìš°ì €ê°€ boundaryë¥¼ ìë™ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.\n      userSignId: userSignId, // ì‚¬ìš©ì ì‹ë³„ì„ ìœ„í•œ Header\n      // Authorization í—¤ë”ê°€ í•„ìš”í•˜ë‹¤ë©´ ì—¬ê¸°ì— ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.\n    },\n    body: formData,\n  });\n\n  if (!response.ok) {\n    const errorMsg = await response.text();\n    throw new Error(errorMsg || \"í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨\");\n  }\n\n  // ë°±ì—”ë“œì—ì„œ ìƒˆë¡œìš´ í”„ë¡œí•„ ì´ë¯¸ì§€ ê²½ë¡œ({ profileImg: \"/path/to/image.jpg\" })ë¥¼ ë°˜í™˜í•œë‹¤ê³  ê°€ì •\n  return await response.json();\n}\n\n/**\n * [ì¶”ê°€] ë¹„ë°€ë²ˆí˜¸ ë³€ê²½\n * @param userSignId í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ID\n * @param currentPassword í˜„ì¬ ë¹„ë°€ë²ˆí˜¸\n * @param newPassword ìƒˆ ë¹„ë°€ë²ˆí˜¸\n */\nexport async function changePassword(userSignId: string, currentPassword: string, newPassword: string): Promise<ApiResponse> {\n  const response = await fetch(`${USERSERVICE_API}/profile/password`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      userSignId: userSignId, // ì‚¬ìš©ì ì‹ë³„ì„ ìœ„í•œ Header\n    },\n    body: JSON.stringify({\n      currentPassword: currentPassword,\n      newPassword: newPassword,\n    }),\n  });\n\n  if (!response.ok) {\n    const errorMsg = await response.text();\n    throw new Error(errorMsg || \"ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì‹¤íŒ¨\");\n  }\n\n  // ì„±ê³µ ì‹œ ë©”ì‹œì§€ë¥¼ ë°˜í™˜í•œë‹¤ê³  ê°€ì •\n  return { success: true, message: \"ë¹„ë°€ë²ˆí˜¸ê°€ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.\" };\n}\n\n/**\n * ì‚¬ìš©ì í”„ë¡œí•„ ì •ë³´ ì¡°íšŒ\n */\nexport async function getUserProfile(userSignId: string): Promise<UserProfile | null> {\n  try {\n    const response = await fetch(`${USERSERVICE_API}/profile/${userSignId}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      console.error(`ì‚¬ìš©ì í”„ë¡œí•„ ì¡°íšŒ ì‹¤íŒ¨: ${response.status}`);\n      return null;\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('ì‚¬ìš©ì í”„ë¡œí•„ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜:', error);\n    return null;\n  }\n}\n\n/**\n * ì—¬ëŸ¬ ì‚¬ìš©ìì˜ í”„ë¡œí•„ ì •ë³´ ì¼ê´„ ì¡°íšŒ\n */\nexport async function getUserProfiles(userSignIds: string[]): Promise<Map<string, UserProfile>> {\n  const profileMap = new Map<string, UserProfile>();\n\n  // ì¤‘ë³µ ì œê±°\n  const uniqueIds = [...new Set(userSignIds)];\n\n  // ë³‘ë ¬ë¡œ ì¡°íšŒ\n  const results = await Promise.allSettled(\n      uniqueIds.map(id => getUserProfile(id))\n  );\n\n  results.forEach((result, index) => {\n    if (result.status === 'fulfilled' && result.value) {\n      profileMap.set(uniqueIds[index], result.value);\n    }\n  });\n\n  return profileMap;\n}\n\n// 1. íšŒì›ê°€ì…\nexport async function signup(formData: FormData): Promise<ApiResponse> {\n  const response = await fetch(`${USERSERVICE_API}/signup`, {\n    method: \"POST\",\n    // FormData ì‚¬ìš© ì‹œ Content-Type í—¤ë”ë¥¼ ì„¤ì •í•˜ì§€ ì•ŠìŒ (ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì„¤ì •)\n    body: formData,\n  });\n\n  const text = await response.text();\n\n  if (response.status === 201) {\n    return { success: true, message: text || \"íšŒì›ê°€ì… ì„±ê³µ\" };\n  }\n\n  return { success: false, message: text || \"íšŒì›ê°€ì… ì‹¤íŒ¨\" };\n}\n// 2. ë¡œê·¸ì¸\nexport async function login(loginDto: LoginDTO): Promise<{\n  userSignId: string;\n  role: string;\n  refreshToken: string;\n  accessToken: string;\n  profileImg?: string\n}> {\n  const response = await fetch(`${USERSERVICE_API}/login`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(loginDto),\n  });\n\n  if (!response.ok) {\n    throw new Error(`ë¡œê·¸ì¸ ì‹¤íŒ¨: ${response.status}`);\n  }\n\n  const authHeader = response.headers.get(\"Authorization\");\n  const accessToken = authHeader?.startsWith(\"Bearer \") ? authHeader.substring(7) : \"\";\n  const body = await response.json();\n\n  return {\n    userSignId: body.userSignId,\n    role: body.role,\n    refreshToken: body.refreshToken,\n    accessToken,\n    profileImg: body.profileImg,\n  };\n}\n\n// 3. ì•„ì´ë”” ì¤‘ë³µ ì²´í¬ â†’ GET /existId?userId=xxx\nexport async function checkUserSignId(userSignId: string): Promise<DuplicateCheckResponse> {\n  const response = await fetch(\n      `${USERSERVICE_API}/existId?userId=${encodeURIComponent(userSignId)}`\n  );\n\n  const text = await response.text();\n  const available = text.trim() === \"not exists\";\n  return { available };\n}\n\n// 4. ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬ â†’ GET /existEmail?email=xxx\nexport async function checkEmail(email: string): Promise<DuplicateCheckResponse> {\n  const response = await fetch(\n      `${USERSERVICE_API}/existEmail?email=${encodeURIComponent(email)}`\n  );\n\n  const text = await response.text();\n  const available = text.trim() === \"not exists\";\n  return { available };\n}\n\n// 5. ë‹‰ë„¤ì„ ì¤‘ë³µ ì²´í¬ â†’ GET /existNickname?nickname=xxx\nexport async function checkNickName(nickname: string): Promise<DuplicateCheckResponse> {\n  const response = await fetch(\n      `${USERSERVICE_API}/existNickname?nickname=${encodeURIComponent(nickname)}`\n  );\n\n  const text = await response.text();\n  const available = text.trim() === \"not exists\";\n  return { available };\n}\n\n// 6. ì¹œêµ¬ ìš”ì²­\nexport async function requestFriend(requesterSignId: string, reqDto: FriendReqDTO): Promise<FriendsResDTO> {\n  const response = await fetch(`${USERSERVICE_API}/friends`, {\n    method: \"POST\",\n    headers: {\n      userSignId: requesterSignId,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(reqDto),\n  });\n\n  if (response.status === 201) {\n    return await response.json();\n  }\n\n  const msg = await response.text();\n  throw new Error(msg || \"ì¹œêµ¬ ìš”ì²­ ì‹¤íŒ¨\");\n}\n\n// 7. ì¹œêµ¬ ìš”ì²­ ìˆ˜ë½\nexport async function acceptFriend(receiverSignId: string, requesterSignId: string): Promise<FriendsResDTO> {\n  const response = await fetch(`${USERSERVICE_API}/friends/${requesterSignId}/accept`, {\n    method: \"PUT\",\n    headers: {\n      userSignId: receiverSignId,\n      \"Content-Length\": \"0\",\n    },\n  });\n\n  if (response.ok) {\n    return await response.json();\n  }\n\n  const msg = await response.text();\n  throw new Error(msg || \"ì¹œêµ¬ ìˆ˜ë½ ì‹¤íŒ¨\");\n}\n\nexport async function updateNickname(userSignId: string, newNickName: string): Promise<{ nickname: string }> {\n  const response = await fetch(`${USERSERVICE_API}/profile/nickname`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      'userSignId': userSignId,\n    },\n    body: JSON.stringify({\n      newNickName,\n    }),\n  });\n\n  if (!response.ok) {\n    const errorBody = await response.json();\n    throw new Error(errorBody.message || \"ë‹‰ë„¤ì„ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\");\n  }\n\n  return await response.json();\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 994, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/utils/imageUtils.ts"],"sourcesContent":["export const getImageUrl = (path: string | null | undefined): string => {\n  if (!path) return '';\n\n  // ì´ë¯¸ ì™„ì „í•œ URLì¸ ê²½ìš° ê·¸ëŒ€ë¡œ ë°˜í™˜\n  if (path.startsWith('http://') || path.startsWith('https://')) {\n    return path;\n  }\n  // userService í¬íŠ¸ë¡œ ì§ì ‘ ì—°ê²° (Gateway ìš°íšŒ)\n  const USERSERVICE_URL = 'http://127.0.0.1:1003';\n  return `${USERSERVICE_URL}${path}`;\n};\n\nexport const getInitial = (userId: string | null | undefined): string => {\n  if (!userId || userId.length === 0) return '?';\n  return userId[0].toUpperCase();\n};"],"names":[],"mappings":";;;;;;AAAO,MAAM,cAAc,CAAC;IAC1B,IAAI,CAAC,MAAM,OAAO;IAElB,wBAAwB;IACxB,IAAI,KAAK,UAAU,CAAC,cAAc,KAAK,UAAU,CAAC,aAAa;QAC7D,OAAO;IACT;IACA,qCAAqC;IACrC,MAAM,kBAAkB;IACxB,OAAO,GAAG,kBAAkB,MAAM;AACpC;AAEO,MAAM,aAAa,CAAC;IACzB,IAAI,CAAC,UAAU,OAAO,MAAM,KAAK,GAAG,OAAO;IAC3C,OAAO,MAAM,CAAC,EAAE,CAAC,WAAW;AAC9B"}},
    {"offset": {"line": 1018, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/component/blogService/CommentSection.tsx"],"sourcesContent":["// src/component/blogService/CommentSection.tsx\n\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport styles from '@/styles/blogService/commentSection.module.css';\nimport {\n  createComment,\n  updateComment,\n  deleteComment,\n  getCommentCount,\n  getCommentsByPostId,\n} from '@/api/blogService/comment';\n// ğŸŸ¢ [ìˆ˜ì •] ì‘ì„±í•˜ì‹  user.tsì—ì„œ í•¨ìˆ˜ ì„í¬íŠ¸\nimport { getUserProfiles } from '@/api/userService/user';\nimport { CommentDTO } from '@/types/blogService/blogType';\nimport React from 'react';\nimport { getImageUrl, getInitial } from '@/utils/imageUtils';\n\ninterface CommentSectionProps {\n  postId: number;\n  comments?: CommentDTO[]; // SSRìš©\n}\n\n// í”„ë¡œí•„ ì´ë¯¸ì§€ë¥¼ í¬í•¨í•˜ëŠ” í™•ì¥ëœ ëŒ“ê¸€ íƒ€ì…\ninterface CommentWithProfile extends CommentDTO {\n  profileImg?: string | null;\n  replies: CommentWithProfile[];\n}\n\n// ë‚ ì§œ í¬ë§·íŒ… ìœ í‹¸ë¦¬í‹°\nconst formatDate = (dateString: string) => {\n  return new Date(dateString).toLocaleDateString('ko-KR', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n};\n\n// CommentItem ì»´í¬ë„ŒíŠ¸\nconst CommentItem = ({\n                       comment,\n                       currentUserSignId,\n                       replyingTo,\n                       setReplyingTo,\n                       editingCommentId,\n                       setEditingCommentId,\n                       onReply,\n                       onEdit,\n                       onDelete,\n                       isLoading,\n                       depth = 0\n                     }: {\n  comment: CommentWithProfile;\n  currentUserSignId: string;\n  replyingTo: number | null;\n  setReplyingTo: (id: number | null) => void;\n  editingCommentId: number | null;\n  setEditingCommentId: (id: number | null) => void;\n  onReply: (parentId: number, content: string) => void;\n  onEdit: (id: number, content: string) => void;\n  onDelete: (id: number) => void;\n  isLoading: boolean;\n  depth?: number;\n}) => {\n  const [localReplyContent, setLocalReplyContent] = useState('');\n  const [localEditContent, setLocalEditContent] = useState('');\n  const [imageLoadError, setImageLoadError] = useState(false);\n  const [isRepliesVisible, setIsRepliesVisible] = useState(depth === 0);\n\n  useEffect(() => {\n    if (editingCommentId === comment.commentId) {\n      setLocalEditContent(comment.content);\n    }\n  }, [editingCommentId, comment.commentId, comment.content]);\n\n  // ëŒ“ê¸€ IDë‚˜ ì´ë¯¸ì§€ ê²½ë¡œê°€ ë°”ë€Œë©´ ì—ëŸ¬ ìƒíƒœ ì´ˆê¸°í™”\n  useEffect(() => {\n    setImageLoadError(false);\n  }, [comment.commentId, comment.profileImg]);\n\n  const handleDeleteComment = async (id: number) => {\n    if (!confirm('ì •ë§ë¡œ ì´ ëŒ“ê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;\n    try {\n      const res = await deleteComment(id, currentUserSignId);\n      if (res.includes('ê¶Œí•œ')) return alert(res);\n      onDelete(id);\n    } catch {\n      alert('ì‚­ì œ ì‹¤íŒ¨');\n    }\n  };\n\n  const handleReplySubmit = () => {\n    if (localReplyContent.trim() === '') {\n      alert('ë‹µê¸€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');\n      return;\n    }\n    onReply(comment.commentId, localReplyContent);\n    setReplyingTo(null);\n    setLocalReplyContent('');\n    setIsRepliesVisible(true);\n  };\n\n  const handleEditSubmit = () => {\n    if (localEditContent.trim() === '') {\n      alert('ìˆ˜ì • ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');\n      return;\n    }\n    onEdit(comment.commentId, localEditContent);\n  };\n\n  const handleCancelEdit = () => {\n    setEditingCommentId(null);\n    setLocalEditContent('');\n  };\n\n  return (\n      <div\n          className={`${styles.commentItem} ${depth > 0 ? styles.replyItem : ''}`}\n          style={{ '--depth': depth } as React.CSSProperties}\n      >\n        <div className={styles.commentHeader}>\n          {/* í”„ë¡œí•„ ì´ë¯¸ì§€ ë Œë”ë§ ë¡œì§ */}\n          {comment.profileImg && !imageLoadError ? (\n              <img\n                  src={getImageUrl(comment.profileImg)}\n                  alt={comment.userId}\n                  className={styles.commentAvatar}\n                  onError={(e) => {\n                    // console.error('âŒ ëŒ“ê¸€ ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨:', getImageUrl(comment.profileImg));\n                    setImageLoadError(true);\n                    e.currentTarget.style.display = 'none';\n                  }}\n                  onLoad={() => setImageLoadError(false)}\n              />\n          ) : (\n              <div className={styles.commentAvatar}>\n                {getInitial(comment.userId)}\n              </div>\n          )}\n\n          <div className={styles.info}>\n            <span className={styles.commentAuthor}>{comment.userId}</span>\n            <span className={styles.commentDate}>{formatDate(comment.createdAt)}</span>\n          </div>\n        </div>\n\n        {editingCommentId === comment.commentId ? (\n            <div className={styles.editForm}>\n          <textarea\n              value={localEditContent}\n              onChange={e => setLocalEditContent(e.target.value)}\n              rows={3}\n              className={styles.commentTextarea}\n              disabled={isLoading}\n          />\n              <div className={styles.actionButtons}>\n                <button\n                    onClick={handleEditSubmit}\n                    className={styles.submitButton}\n                    disabled={isLoading || localEditContent.trim() === ''}\n                >\n                  {isLoading ? 'ìˆ˜ì • ì¤‘...' : 'ìˆ˜ì • ì™„ë£Œ'}\n                </button>\n                <button\n                    onClick={handleCancelEdit}\n                    className={styles.cancelButton}\n                    disabled={isLoading}\n                >\n                  ì·¨ì†Œ\n                </button>\n              </div>\n            </div>\n        ) : (\n            <p className={styles.commentContent}>\n              {comment.isDeleted ? '(ì‚­ì œëœ ëŒ“ê¸€ì…ë‹ˆë‹¤)' : comment.content}\n            </p>\n        )}\n\n        {!comment.isDeleted && editingCommentId !== comment.commentId && (\n            <div className={styles.commentActions}>\n              <button\n                  onClick={() => setReplyingTo(comment.commentId)}\n                  className={styles.replyButton}\n                  disabled={isLoading}\n              >\n                ë‹µê¸€\n              </button>\n              {currentUserSignId === comment.userId && (\n                  <>\n                    <button\n                        onClick={() => setEditingCommentId(comment.commentId)}\n                        className={styles.editButton}\n                        disabled={isLoading}\n                    >\n                      ìˆ˜ì •\n                    </button>\n                    <button\n                        onClick={() => onDelete(comment.commentId)}\n                        className={styles.deleteButton}\n                        disabled={isLoading}\n                    >\n                      ì‚­ì œ\n                    </button>\n                  </>\n              )}\n            </div>\n        )}\n\n        {comment.replies.length > 0 && (\n            <div className={styles.replyToggle} onClick={() => setIsRepliesVisible(prev => !prev)}>\n              {isRepliesVisible ? 'ë‹µê¸€ ì ‘ê¸° â–²' : `ë‹µê¸€ ${comment.replies.length}ê°œ í¼ì¹˜ê¸° â–¼`}\n            </div>\n        )}\n\n        {replyingTo === comment.commentId && (\n            <div className={styles.replyForm}>\n          <textarea\n              value={localReplyContent}\n              onChange={e => setLocalReplyContent(e.target.value)}\n              placeholder={`${comment.userId}ë‹˜ê»˜ ë‹µê¸€ ì‘ì„±`}\n              rows={2}\n              className={styles.commentTextarea}\n              disabled={isLoading}\n          />\n              <div className={styles.actionButtons}>\n                <button\n                    onClick={handleReplySubmit}\n                    className={styles.submitButton}\n                    disabled={isLoading || localReplyContent.trim() === ''}\n                >\n                  {isLoading ? 'ì‘ì„± ì¤‘...' : 'ë‹µê¸€ ì‘ì„±'}\n                </button>\n                <button\n                    onClick={() => setReplyingTo(null)}\n                    className={styles.cancelButton}\n                    disabled={isLoading}\n                >\n                  ì·¨ì†Œ\n                </button>\n              </div>\n            </div>\n        )}\n\n        {comment.replies.length > 0 && isRepliesVisible && (\n            <div className={styles.repliesList}>\n              {comment.replies.map(r => (\n                  <CommentItem\n                      key={r.commentId}\n                      comment={r}\n                      currentUserSignId={currentUserSignId}\n                      replyingTo={replyingTo}\n                      setReplyingTo={setReplyingTo}\n                      editingCommentId={editingCommentId}\n                      setEditingCommentId={setEditingCommentId}\n                      onReply={onReply}\n                      onEdit={onEdit}\n                      onDelete={onDelete}\n                      isLoading={isLoading}\n                      depth={depth + 1}\n                  />\n              ))}\n            </div>\n        )}\n      </div>\n  );\n};\n\n// íŠ¸ë¦¬ ì—…ë°ì´íŠ¸ ìœ í‹¸\nconst updateTree = (list: CommentWithProfile[], id: number, fn: (c: CommentWithProfile) => CommentWithProfile): CommentWithProfile[] =>\n    list.map(c =>\n        c.commentId === id\n            ? fn(c)\n            : (c.replies && c.replies.length > 0)\n                ? {\n                  ...c,\n                  replies: updateTree(c.replies, id, fn),\n                }\n                : c\n    );\n\nexport default function CommentSection({ postId, comments: ssrComments = [] }: CommentSectionProps) {\n  const [comments, setComments] = useState<CommentWithProfile[]>([]);\n  const [commentCount, setCommentCount] = useState(0);\n  const [currentUserSignId, setCurrentUserSignId] = useState('');\n  const [newComment, setNewComment] = useState('');\n  const [replyingTo, setReplyingTo] = useState<number | null>(null);\n  const [editingCommentId, setEditingCommentId] = useState<number | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // ğŸŸ¢ [í•µì‹¬] user.tsì˜ APIë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œí•„ ì •ë³´ë¥¼ ë³‘í•©í•˜ëŠ” í•¨ìˆ˜\n  const fetchProfiles = async (commentList: CommentDTO[]): Promise<CommentWithProfile[]> => {\n    // 1. ëª¨ë“  ëŒ“ê¸€ ë° ëŒ€ëŒ“ê¸€ì—ì„œ userId ìˆ˜ì§‘\n    const collectUserIds = (cmts: CommentDTO[]): string[] => {\n      const ids = new Set<string>();\n      const traverse = (c: CommentDTO) => {\n        ids.add(c.userId);\n        c.replies.forEach(traverse);\n      };\n      cmts.forEach(traverse);\n      return Array.from(ids);\n    };\n\n    const userIds = collectUserIds(commentList);\n    if (userIds.length === 0) return commentList as CommentWithProfile[];\n\n    try {\n      // 2. user.tsì˜ getUserProfiles í˜¸ì¶œ (Map ë°˜í™˜)\n      const profileMap = await getUserProfiles(userIds);\n\n      // 3. ëŒ“ê¸€ íŠ¸ë¦¬ì— í”„ë¡œí•„ ì´ë¯¸ì§€ ë§¤í•‘\n      const mapProfileToComment = (cmt: CommentDTO): CommentWithProfile => {\n        const userProfile = profileMap.get(cmt.userId);\n        return {\n          ...(cmt as CommentWithProfile),\n          profileImg: userProfile?.profileImg || null,\n          replies: cmt.replies.map(mapProfileToComment) as CommentWithProfile[],\n        };\n      };\n\n      return commentList.map(mapProfileToComment);\n\n    } catch (error) {\n      console.error(\"í”„ë¡œí•„ ì´ë¯¸ì§€ ë§¤í•‘ ì‹¤íŒ¨:\", error);\n      return commentList as CommentWithProfile[];\n    }\n  };\n\n  useEffect(() => {\n    const userId = typeof window !== 'undefined' ? localStorage.getItem('userSignId') || '' : '';\n    setCurrentUserSignId(userId);\n\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        const fetchedComments = await getCommentsByPostId(postId);\n        const fetchedCount = await getCommentCount(postId);\n\n        // í”„ë¡œí•„ ì •ë³´ ë§¤í•‘ ì‹¤í–‰\n        const commentsWithProfiles = await fetchProfiles(fetchedComments);\n\n        setComments(commentsWithProfiles);\n        setCommentCount(fetchedCount);\n      } catch(e) {\n        console.error(\"ëŒ“ê¸€ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨\", e);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, [postId]);\n\n  const handleSubmitComment = async () => {\n    if (newComment.trim() === '') {\n      alert('ëŒ“ê¸€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const dto = { postId, parentCommentId: null, content: newComment };\n      const newCmt = await createComment(currentUserSignId, dto);\n\n      // ìƒˆ ëŒ“ê¸€ì—ë„ í”„ë¡œí•„ ì •ë³´ ë§¤í•‘\n      const profiles = await fetchProfiles([newCmt]);\n      const newCmtWithProfile = profiles.length > 0 ? profiles[0] : newCmt as CommentWithProfile;\n\n      setComments(prev => [newCmtWithProfile, ...prev]);\n      setCommentCount(c => c + 1);\n      setNewComment('');\n    } catch {\n      alert('ëŒ“ê¸€ ì‘ì„± ì‹¤íŒ¨');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleReply = async (parentId: number, content: string) => {\n    setIsLoading(true);\n    try {\n      const dto = { postId, parentCommentId: parentId, content };\n      const newCmt = await createComment(currentUserSignId, dto);\n\n      // ìƒˆ ë‹µê¸€ì—ë„ í”„ë¡œí•„ ì •ë³´ ë§¤í•‘\n      const profiles = await fetchProfiles([newCmt]);\n      const enrichedComment = profiles.length > 0 ? profiles[0] : newCmt as CommentWithProfile;\n\n      setComments(prev => updateTree(prev, parentId, c => ({\n        ...c,\n        replies: [...(c.replies || []), enrichedComment] as CommentWithProfile[],\n        childCount: c.childCount + 1,\n      })));\n\n      setCommentCount(c => c + 1);\n    } catch {\n      alert('ë‹µê¸€ ì‘ì„± ì‹¤íŒ¨');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleEdit = async (id: number, content: string) => {\n    setIsLoading(true);\n    try {\n      const dto = { content };\n      const updatedCmt = await updateComment(id, currentUserSignId, dto);\n\n      setComments(prev => updateTree(prev, id, c => ({\n        ...c,\n        content: updatedCmt.content,\n        updatedAt: updatedCmt.updatedAt\n      })));\n\n      setEditingCommentId(null);\n    } catch (e: any) {\n      alert(e.message || 'ëŒ“ê¸€ ìˆ˜ì • ì‹¤íŒ¨');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleDelete = async (id: number) => {\n    setIsLoading(true);\n    try {\n      const res = await deleteComment(id, currentUserSignId);\n      if (res.includes('ê¶Œí•œ')) {\n        alert(res);\n        return;\n      }\n\n      // ì‚­ì œ í›„ ìµœì‹  ëª©ë¡ ê°±ì‹  (í”„ë¡œí•„ í¬í•¨)\n      const fetchedComments = await getCommentsByPostId(postId);\n      const commentsWithProfiles = await fetchProfiles(fetchedComments);\n      const fetchedCount = await getCommentCount(postId);\n\n      setComments(commentsWithProfiles);\n      setCommentCount(fetchedCount);\n\n    } catch (e) {\n      alert('ëŒ“ê¸€ ì‚­ì œ ì‹¤íŒ¨');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n      <div className={styles.commentSection}>\n        <h2 className={styles.commentTitle}>{commentCount}ê°œì˜ ëŒ“ê¸€</h2>\n\n        <div className={styles.commentForm}>\n        <textarea\n            value={newComment}\n            onChange={e => setNewComment(e.target.value)}\n            placeholder=\"ëŒ“ê¸€ì„ ì‘ì„±í•˜ì„¸ìš”\"\n            rows={4}\n            className={styles.commentTextarea}\n            disabled={isLoading}\n        />\n          <button\n              onClick={handleSubmitComment}\n              className={styles.submitButton}\n              disabled={isLoading || newComment.trim() === ''}\n          >\n            {isLoading ? 'ì‘ì„± ì¤‘...' : 'ëŒ“ê¸€ ì‘ì„±'}\n          </button>\n        </div>\n\n        <div className={styles.commentList}>\n          {comments.map(c => (\n              <CommentItem\n                  key={c.commentId}\n                  comment={c}\n                  currentUserSignId={currentUserSignId}\n                  replyingTo={replyingTo}\n                  setReplyingTo={setReplyingTo}\n                  editingCommentId={editingCommentId}\n                  setEditingCommentId={setEditingCommentId}\n                  onReply={handleReply}\n                  onEdit={handleEdit}\n                  onDelete={handleDelete}\n                  isLoading={isLoading}\n                  depth={0}\n              />\n          ))}\n        </div>\n      </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1598, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/component/blogService/PostDetail.tsx"],"sourcesContent":["// src/component/blogService/PostDetail.tsx\n\n'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport LikeShareSidebar from './LikeShareSidebar';\nimport ProgressBar from './ProgressBar';\nimport TableOfContents from './TableOfContents';\nimport PostContent from './PostContent';\nimport CommentSection from './CommentSection'; // ê¸°ì¡´ import ìœ ì§€\nimport { PostDetailDTO } from '@/types/blogService/blogType';\nimport { deleteFeed, getPostTags,incrementViewCount } from '@/api/blogService/blog';\nimport styles from '@/styles/blogService/postDetail.module.css';\n\n// HTML ë‚´ìš©ì— ì œëª© íƒœê·¸(H1, H2, H3 ë“±)ê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜\nconst hasHeadings = (htmlContent: string): boolean => {\n  if (!htmlContent) return false;\n  return /<h[1-3]/i.test(htmlContent);\n};\n\nexport default function PostDetail({ post }: { post: PostDetailDTO }) {\n  const router = useRouter();\n  const [currentUserSignId, setCurrentUserSignId] = useState('');\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [tags, setTags] = useState<string[]>([]);\n\n  const isAuthor = currentUserSignId === post.authorId;\n  const shouldShowToc = hasHeadings(post.content);\n\n  useEffect(() => {\n    const userId = localStorage.getItem('userSignId') || '';\n    setCurrentUserSignId(userId);\n\n    const updateViewCount = async () => {\n      try {\n        await incrementViewCount(post.postId);\n        console.log(`ê²Œì‹œë¬¼ ID ${post.postId} ì¡°íšŒìˆ˜ ì¦ê°€ ì„±ê³µ`);\n      } catch (error) {\n        console.error('ì¡°íšŒìˆ˜ ì¦ê°€ ì‹¤íŒ¨:', error);\n      }\n    };\n    updateViewCount();\n\n    if (post.tags && Array.isArray(post.tags) && post.tags.length > 0) {\n      setTags(post.tags);\n    } else {\n      const fetchTags = async () => {\n        try {\n          const fetchedTags = await getPostTags(post.postId);\n          setTags(fetchedTags);\n        } catch (error) {\n          console.error('íƒœê·¸ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);\n          setTags([]);\n        }\n      };\n      fetchTags();\n    }\n  }, [post]);\n\n  const handleEdit = () => {\n    router.push(`/post/edit/${post.postId}`);\n  };\n\n  const handleDelete = async () => {\n    if (window.confirm('ì •ë§ë¡œ ì´ ê²Œì‹œë¬¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {\n      setIsDeleting(true);\n      try {\n        await deleteFeed(post.postId, currentUserSignId);        alert('ê²Œì‹œë¬¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');\n        router.push('/');\n      } catch (error) {\n        console.error('ì‚­ì œ ì‹¤íŒ¨:', error);\n        alert('ê²Œì‹œë¬¼ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n      } finally {\n        setIsDeleting(false);\n      }\n    }\n  };\n\n  return (\n      <>\n        <ProgressBar />\n\n        <div className={styles.detailContainer}>\n          <header className={styles.postHeader}>\n            <h1 className={styles.title}>{post.title}</h1>\n\n            {/* âœ… [ìˆ˜ì •] ì‘ì„±ì ì •ë³´ì™€ ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ì„ ë³„ë„ì˜ Rowë¡œ ë¶„ë¦¬í•˜ê³  ì •ë ¬ */}\n            <div className={styles.metaRow}>\n              <div className={styles.metaInfo}>\n                <span className={styles.author}>ì‘ì„±ì: {post.authorId}</span>\n                <span className={styles.date}> ë“±ë¡ì¼:\n                                {new Date(post.createdAt).toLocaleDateString('ko-KR')}\n                            </span>\n                <span className={styles.views}> ì¡°íšŒìˆ˜: {post.viewCount}</span>\n              </div>\n\n              {isAuthor && (\n                  <div className={styles.authorActions}>\n                    <button onClick={handleEdit} className={styles.editButton}>\n                      ìˆ˜ì •\n                    </button>\n                    <button\n                        onClick={handleDelete}\n                        disabled={isDeleting}\n                        className={styles.deleteButton}\n                    >\n                      {isDeleting ? 'ì‚­ì œ ì¤‘...' : 'ì‚­ì œ'}\n                    </button>\n                  </div>\n              )}\n            </div>\n\n            {(tags ?? []).length > 0 && (\n                <div className={styles.tagsContainer}>\n                  {tags.map((tag, index) => (\n                      <span\n                          key={index}\n                          className={styles.tag}\n                          onClick={() => router.push(`/tag/${encodeURIComponent(tag)}`)}\n                          style={{ cursor: 'pointer' }}\n                          data-color={index % 5}\n                      >\n                                    #{tag}\n                                </span>\n                  ))}\n                </div>\n            )}\n          </header>\n\n          {post.thumbnail && (\n              <img\n                  src={post.thumbnail}\n                  alt={post.title}\n                  className={styles.postThumbnail}\n                  onError={(e) => (e.currentTarget.style.display = 'none')}\n              />\n          )}\n\n          {/* âœ… [ìˆ˜ì •] ë©”ì¸ ì½˜í…ì¸ , ëŒ“ê¸€, ì–‘ìª½ ì‚¬ì´ë“œë°”ë¥¼ ëª¨ë‘ í¬í•¨í•˜ëŠ” Grid ì»¨í…Œì´ë„ˆ */}\n          <div className={styles.gridWrapper}>\n\n            {/* â¬…ï¸ 1. ì™¼ìª½ ì‚¬ì´ë“œë°” (ì¢‹ì•„ìš”/ê³µìœ  - ê³ ì •) */}\n            <aside className={styles.leftSidebar}>\n\n              <div className={styles.stickyBox}>\n                <LikeShareSidebar\n                    postId={post.postId}/>\n              </div>\n            </aside>\n\n            {/* â¡ï¸ 2. ì¤‘ì•™ ì½˜í…ì¸  ì˜ì—­ (ê²Œì‹œê¸€ ë³¸ë¬¸ + ëŒ“ê¸€) */}\n            {/* ëŒ“ê¸€ ì„¹ì…˜ì„ ë©”ì¸ ì½˜í…ì¸ ì™€ ê°™ì€ ë„ˆë¹„ë¡œ í†µì¼ */}\n            <div className={styles.centralContent}>\n              <article className={styles.mainContent}>\n                <PostContent content={post.content} />\n              </article>\n\n              {/* âœ… [ì´ë™/í†µí•©] CommentSectionì´ ì¤‘ì•™ ì½˜í…ì¸  ë„ˆë¹„ë¥¼ ë”°ë¥´ë„ë¡ ì´ê³³ì— ë°°ì¹˜ */}\n              <CommentSection postId={post.postId} comments={post.comments || []} />\n            </div>\n\n            {/* â¡ï¸ 3. ì˜¤ë¥¸ìª½ ëª©ì°¨ (ì¡°ê±´ë¶€ ë Œë”ë§ ë° ê³ ì •) */}\n            {shouldShowToc && (\n                <aside className={styles.sidebar}>\n                  <div className={styles.stickyBox}>\n                    <TableOfContents content={post.content} />\n                  </div>\n                </aside>\n            )}\n          </div>\n        </div>\n      </>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1921, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/layout/layout.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"Link\": \"layout-module__oXCPXq__Link\",\n  \"dropdownHeader\": \"layout-module__oXCPXq__dropdownHeader\",\n  \"dropdownItem\": \"layout-module__oXCPXq__dropdownItem\",\n  \"leftSection\": \"layout-module__oXCPXq__leftSection\",\n  \"navLink\": \"layout-module__oXCPXq__navLink\",\n  \"profileCircle\": \"layout-module__oXCPXq__profileCircle\",\n  \"profileContainer\": \"layout-module__oXCPXq__profileContainer\",\n  \"profileDropdown\": \"layout-module__oXCPXq__profileDropdown\",\n  \"profileImage\": \"layout-module__oXCPXq__profileImage\",\n  \"profileSection\": \"layout-module__oXCPXq__profileSection\",\n  \"rightItem\": \"layout-module__oXCPXq__rightItem\",\n  \"rightSection\": \"layout-module__oXCPXq__rightSection\",\n  \"topbar\": \"layout-module__oXCPXq__topbar\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1963, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/userService/LoginModal.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"closeButton\": \"LoginModal-module__9G312W__closeButton\",\n  \"footer\": \"LoginModal-module__9G312W__footer\",\n  \"form\": \"LoginModal-module__9G312W__form\",\n  \"iconButton\": \"LoginModal-module__9G312W__iconButton\",\n  \"input\": \"LoginModal-module__9G312W__input\",\n  \"leftSection\": \"LoginModal-module__9G312W__leftSection\",\n  \"loginButton\": \"LoginModal-module__9G312W__loginButton\",\n  \"modalBox\": \"LoginModal-module__9G312W__modalBox\",\n  \"overlay\": \"LoginModal-module__9G312W__overlay\",\n  \"profileCircle\": \"LoginModal-module__9G312W__profileCircle\",\n  \"profileImage\": \"LoginModal-module__9G312W__profileImage\",\n  \"profileSection\": \"LoginModal-module__9G312W__profileSection\",\n  \"rightSection\": \"LoginModal-module__9G312W__rightSection\",\n  \"signupLink\": \"LoginModal-module__9G312W__signupLink\",\n  \"socialIcons\": \"LoginModal-module__9G312W__socialIcons\",\n  \"socialLabel\": \"LoginModal-module__9G312W__socialLabel\",\n  \"socialSection\": \"LoginModal-module__9G312W__socialSection\",\n  \"subTitle\": \"LoginModal-module__9G312W__subTitle\",\n  \"title\": \"LoginModal-module__9G312W__title\",\n  \"welcomeText\": \"LoginModal-module__9G312W__welcomeText\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1989, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/component/userService/LoginModal.tsx"],"sourcesContent":["import React, { useState, FormEvent } from \"react\";\nimport styles from \"../../styles/userService/LoginModal.module.css\";\nimport { login } from \"../../api/userService/user\";\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\n\ninterface LoginModalProps {\n  onClose: () => void;\n  onLoginSuccess: () => void;\n}\n\nexport default function LoginModal({ onClose, onLoginSuccess }: LoginModalProps) {\n  const router = useRouter();\n  const [userSignId, setUserSignId] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n\n  async function handleSubmit(event: FormEvent) {\n    event.preventDefault();\n    setError(null);\n\n    try {\n      const response = await login({ userSignId, password });\n\n      console.log(\"ğŸ”¥ [LoginModal] ë¡œê·¸ì¸ ì‘ë‹µ:\", response);\n      console.log(\"ğŸ”¥ [LoginModal] response.profileImg:\", response.profileImg);\n      console.log(\"ğŸ”¥ [LoginModal] response.profile_img:\", (response as any).profile_img);\n\n      // í† í° ë° ì‚¬ìš©ì ì •ë³´ ì €ì¥\n      localStorage.setItem(\"accessToken\", response.accessToken);\n      localStorage.setItem(\"refreshToken\", response.refreshToken);\n      localStorage.setItem(\"userSignId\", response.userSignId);\n\n      // í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ìˆìœ¼ë©´ ì €ì¥ (profileImg ë˜ëŠ” profile_img ëª¨ë‘ í™•ì¸)\n      const profileImage = response.profileImg || (response as any).profile_img;\n      console.log(\"ğŸ”¥ [LoginModal] ìµœì¢… profileImage:\", profileImage);\n\n      if (profileImage) {\n        localStorage.setItem(\"profile_img\", profileImage);\n        console.log(\"âœ… [LoginModal] localStorageì— ì €ì¥ë¨:\", profileImage);\n      } else {\n        console.warn(\"âš ï¸ [LoginModal] í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ì‘ë‹µì— ì—†ìŠµë‹ˆë‹¤\");\n      }\n\n      alert(\"í™˜ì˜í•©ë‹ˆë‹¤!\");\n      onLoginSuccess();\n      onClose();\n\n    } catch (err: any) {\n      console.error(err);\n      setError(\"ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.\");\n    }\n  }\n\n  return (\n      <div className={styles.overlay} onClick={onClose}>\n        <div className={styles.modalBox} onClick={e => e.stopPropagation()}>\n\n          {/* ì™¼ìª½: ê°ì„± ì¼ëŸ¬ìŠ¤íŠ¸ ì˜ì—­ */}\n          <div className={styles.leftSection}>\n            <div className={styles.illustration}>\n              <span role=\"img\" aria-label=\"sparkles\" style={{ fontSize: \"4rem\" }}>âœ¨</span>\n            </div>\n            <h2 className={styles.welcomeText}>ë‹¤ì‹œ ë§Œë‚˜ì„œ ë°˜ê°€ì›Œìš”</h2>\n            <p className={styles.welcomeSub}>ì˜¤ëŠ˜ë„ ì†Œì¤‘í•œ ìˆœê°„ì„ ê¸°ë¡í•´ë³¼ê¹Œìš”?</p>\n          </div>\n\n          {/* ì˜¤ë¥¸ìª½: ë¡œê·¸ì¸ í¼ */}\n          <div className={styles.rightSection}>\n            <button className={styles.closeButton} onClick={onClose}>Ã—</button>\n\n            <h2 className={styles.title}>ë¡œê·¸ì¸</h2>\n            <form onSubmit={handleSubmit} className={styles.form}>\n              <input\n                  type=\"text\"\n                  className={styles.input}\n                  placeholder=\"ì•„ì´ë””\"\n                  value={userSignId}\n                  onChange={e => setUserSignId(e.target.value)}\n              />\n              <input\n                  type=\"password\"\n                  className={styles.input}\n                  placeholder=\"ë¹„ë°€ë²ˆí˜¸\"\n                  value={password}\n                  onChange={e => setPassword(e.target.value)}\n              />\n\n              {error && <div className={styles.errorMessage}>{error}</div>}\n\n              <button type=\"submit\" className={styles.loginButton}>\n                ë¡œê·¸ì¸\n              </button>\n            </form>\n\n            <div className={styles.footer}>\n              ì•„ì§ ê³„ì •ì´ ì—†ë‚˜ìš”? <Link href=\"/signup\" className={styles.signupLink} onClick={onClose}>íšŒì›ê°€ì…</Link>\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2203, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/userService/ModalFriends.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"cancelButton\": \"ModalFriends-module__4kHBrW__cancelButton\",\n  \"closeButton\": \"ModalFriends-module__4kHBrW__closeButton\",\n  \"deleteButton\": \"ModalFriends-module__4kHBrW__deleteButton\",\n  \"fadeIn\": \"ModalFriends-module__4kHBrW__fadeIn\",\n  \"listItemDeleteButton\": \"ModalFriends-module__4kHBrW__listItemDeleteButton\",\n  \"modalActions\": \"ModalFriends-module__4kHBrW__modalActions\",\n  \"modalBackdrop\": \"ModalFriends-module__4kHBrW__modalBackdrop\",\n  \"modalContent\": \"ModalFriends-module__4kHBrW__modalContent\",\n  \"modalMessage\": \"ModalFriends-module__4kHBrW__modalMessage\",\n  \"modalTitle\": \"ModalFriends-module__4kHBrW__modalTitle\",\n  \"slideInRight\": \"ModalFriends-module__4kHBrW__slideInRight\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 2220, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/api/userService/friends.ts"],"sourcesContent":["// src/api/userService/friends.ts\nimport { FRIENDSSERVICE_API } from \"@/config/env\";\nimport type { FriendsResDTO, FriendReqDTO } from \"@/types/userService/friends\";\n\n// 1. ì¸ì¦ í† í°ì„ ê°€ì ¸ì˜¤ëŠ” í—¬í¼ í•¨ìˆ˜\nconst getAuthToken = (): string | null => {\n  // TODO: ì‹¤ì œ í”„ë¡œì íŠ¸ì˜ ë¡œì§ì— ë§ê²Œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€, ì¿ í‚¤ ë“±ì—ì„œ JWT í† í°ì„ ê°€ì ¸ì˜¤ë„ë¡ êµ¬í˜„í•˜ì„¸ìš”.\n  const token = localStorage.getItem('accessToken');\n  if (!token) {\n    console.error(\"Authentication token not found.\");\n    return null;\n  }\n  return token;\n};\n\n// 2. ê³µí†µ ìš”ì²­ í—¤ë” ìƒì„± í•¨ìˆ˜ (Authorization í—¤ë” í¬í•¨)\nconst getAuthHeaders = () => {\n  const token = getAuthToken();\n  if (!token) {\n    throw new Error(\"ì¸ì¦ í† í°ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¡œê·¸ì¸ ìƒíƒœë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.\");\n  }\n  return {\n    'Authorization': `Bearer ${token}`,\n  };\n};\n\n\n// ê³µí†µ ì‘ë‹µ íƒ€ì…\ninterface ApiResponse {\n  success: boolean;\n  message?: string;\n}\n\n// 1. ì¹œêµ¬ ê´€ê³„ ìƒíƒœ ì¡°íšŒ\nexport async function getFriendshipStatus(\n    currentUserSignId: string,\n    targetUserSignId: string\n): Promise<FriendsResDTO | null> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(\n      `${FRIENDSSERVICE_API}/status?targetUserId=${encodeURIComponent(targetUserSignId)}`,\n      {\n        method: \"GET\",\n        headers: headers,\n      }\n  );\n\n  if (response.status === 204) {\n    return null;\n  }\n  if (response.ok) {\n    return await response.json();\n  }\n  const msg = await response.text();\n  console.error(`Status Check Failed: HTTP ${response.status} - ${msg}`);\n  throw new Error(msg || \"ìƒíƒœ ì¡°íšŒ ì‹¤íŒ¨\");\n}\n\n// 2. ì¹œêµ¬ ìš”ì²­ ë³´ë‚´ê¸°\nexport async function sendFriendRequest(\n    currentUserSignId: string,\n    receiverSignId: string\n): Promise<FriendsResDTO> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/request`, {\n    method: \"POST\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ receiverSignId }),\n  });\n\n  if (response.ok) {\n    return await response.json();\n  }\n  const msg = await response.text();\n  console.error(`Send Request Failed: HTTP ${response.status} - ${msg}`);\n  throw new Error(msg || \"ì¹œêµ¬ ìš”ì²­ ì‹¤íŒ¨\");\n}\n\n// 3. ë°›ì€ ì¹œêµ¬ ìš”ì²­ ëª©ë¡ ì¡°íšŒ (ìˆ˜ì •: 204 ì²˜ë¦¬ ë° ë¡œê¹… ì¶”ê°€)\nexport async function getReceivedFriendRequests(): Promise<FriendsResDTO[]> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/requests/received`, {\n    method: \"GET\",\n    headers: headers,\n  });\n\n  // âœ¨ 204 No Content ì²˜ë¦¬\n  if (response.status === 204) {\n    return [];\n  }\n\n  if (response.ok) {\n    return await response.json();\n  }\n\n  // âœ¨ ì—ëŸ¬ ë¡œê¹… ì¶”ê°€\n  const msg = await response.text();\n  console.error(`Received Requests Failed: HTTP ${response.status} - ${msg}`);\n  throw new Error(msg || `ì¹œêµ¬ ìš”ì²­ ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨ (Status: ${response.status})`);\n}\n\n// 4. ì¹œêµ¬ ëª©ë¡ ì¡°íšŒ (ìˆ˜ì •: 204 ì²˜ë¦¬ ë° ë¡œê¹… ì¶”ê°€)\nexport async function getFriendList(): Promise<FriendsResDTO[]> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}`, {\n    method: \"GET\",\n    headers: headers,\n  });\n\n  // âœ¨ 204 No Content ì²˜ë¦¬\n  if (response.status === 204) {\n    return [];\n  }\n\n  if (response.ok) {\n    return await response.json();\n  }\n\n  // âœ¨ ì—ëŸ¬ ë¡œê¹… ì¶”ê°€\n  const msg = await response.text();\n  console.error(`Friend List Failed: HTTP ${response.status} - ${msg}`);\n  throw new Error(msg || `ì¹œêµ¬ ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨ (Status: ${response.status})`);\n}\n\n// 5. ì¹œêµ¬ ìš”ì²­ ìˆ˜ë½\nexport async function acceptFriendRequest(\n    currentUserSignId: string,\n    friendId: number\n): Promise<FriendsResDTO> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/${friendId}/accept`, {\n    method: \"PUT\",\n    headers: {\n      ...headers,\n      \"Content-Length\": \"0\",\n    },\n  });\n\n  if (response.ok) {\n    return await response.json();\n  }\n  const msg = await response.text();\n  console.error(`Accept Request Failed: HTTP ${response.status} - ${msg}`);\n  throw new Error(msg || \"ìˆ˜ë½ ì‹¤íŒ¨\");\n}\n\n// 6. ì¹œêµ¬ ìš”ì²­ ê±°ì ˆ\nexport async function rejectFriendRequest(\n    currentUserSignId: string,\n    friendId: number\n): Promise<void> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/${friendId}/reject`, {\n    method: \"DELETE\",\n    headers: headers,\n  });\n\n  if (!response.ok) {\n    const msg = await response.text();\n    console.error(`Reject Request Failed: HTTP ${response.status} - ${msg}`);\n    throw new Error(msg || \"ê±°ì ˆ ì‹¤íŒ¨\");\n  }\n}\n\n// 7. ì¹œêµ¬ ì‚­ì œ\nexport async function deleteFriend(\n    currentUserSignId: string,\n    friendId: number\n): Promise<void> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/${friendId}`, {\n    method: \"DELETE\",\n    headers: headers,\n  });\n\n  if (!response.ok) {\n    const msg = await response.text();\n    console.error(`Delete Friend Failed: HTTP ${response.status} - ${msg}`);\n    throw new Error(msg || \"ì¹œêµ¬ ì‚­ì œ ì‹¤íŒ¨\");\n  }\n}\n\n// 8. ìœ ì € ì°¨ë‹¨\nexport async function blockUser(\n    currentUserSignId: string,\n    receiverSignId: string\n): Promise<FriendsResDTO> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/block`, {\n    method: \"POST\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ receiverSignId }),\n  });\n\n  if (response.ok) {\n    return await response.json();\n  }\n  const msg = await response.text();\n  console.error(`Block User Failed: HTTP ${response.status} - ${msg}`);\n  throw new Error(msg || \"ì°¨ë‹¨ ì‹¤íŒ¨\");\n}\n\n// 9. ì°¨ë‹¨ í•´ì œ\nexport async function unblockUser(\n    currentUserSignId: string,\n    friendId: number\n): Promise<void> {\n  const headers = getAuthHeaders();\n\n  const response = await fetch(`${FRIENDSSERVICE_API}/${friendId}/unblock`, {\n    method: \"DELETE\",\n    headers: headers,\n  });\n\n  if (!response.ok) {\n    const msg = await response.text();\n    console.error(`Unblock User Failed: HTTP ${response.status} - ${msg}`);\n    throw new Error(msg || \"ì°¨ë‹¨ í•´ì œ ì‹¤íŒ¨\");\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2409, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/component/userService/FriendActionModal.tsx"],"sourcesContent":["\"use client\";\n\nimport React, {useEffect, useState, useCallback} from \"react\";\nimport styles from \"@/styles/userService/ModalFriends.module.css\";\nimport {\n  sendFriendRequest,\n  acceptFriendRequest,\n  rejectFriendRequest,\n  deleteFriend,\n  getReceivedFriendRequests,\n  getFriendList,\n  getFriendshipStatus, // âœ¨ ì¶”ê°€\n} from \"@/api/userService/friends\";\n\ntype TabType = \"add\" | \"requests\" | \"friends\";\n\ninterface FriendItem {\n  friendId: number;\n  userSignId: string;\n}\n\nconst ITEMS_PER_PAGE = 5;\n\n// ---------------------------\n// íƒ­ë³„ ëª©ë¡ ì•„ì´í…œ ì»´í¬ë„ŒíŠ¸\n// ---------------------------\n\ninterface RequestItemProps extends FriendItem {\n  onAccept: (friendId: number) => void;\n  onReject: (friendId: number) => void;\n}\n\nconst RequestItem: React.FC<RequestItemProps> = ({userSignId, friendId, onAccept, onReject}) => (\n    <div className=\"flex items-center justify-between p-3 border-b last:border-b-0\">\n      <span className=\"font-semibold text-gray-700\">{userSignId}</span>\n      <div className=\"flex space-x-2\">\n        <button\n            onClick={() => onAccept(friendId)}\n            className=\"px-3 py-1 text-sm font-medium text-white bg-green-500 rounded hover:bg-green-600 transition\"\n        >\n          ìˆ˜ë½\n        </button>\n        <button\n            onClick={() => onReject(friendId)}\n            className=\"px-3 py-1 text-sm font-medium text-gray-700 bg-gray-200 rounded hover:bg-gray-300 transition\"\n        >\n          ê±°ì ˆ\n        </button>\n      </div>\n    </div>\n);\n\ninterface FriendListItemProps extends FriendItem {\n  onRemove: (friendId: number) => void;\n}\n\nconst FriendListItem: React.FC<FriendListItemProps> = ({userSignId, friendId, onRemove}) => (\n    <div className=\"flex items-center justify-between p-3 border-b last:border-b-0\">\n      <span className=\"font-semibold text-gray-700\">{userSignId}</span>\n      <button\n          onClick={() => onRemove(friendId)}\n          className={styles.listItemDeleteButton}\n      >\n        ì‚­ì œ\n      </button>\n    </div>\n);\n\n// ---------------------------\n// ë©”ì¸ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸\n// ---------------------------\n\nexport default function FriendManagerModal({\n                                             currentUserSignId,\n                                             isOpen,\n                                             onClose,\n                                           }: {\n  currentUserSignId: string;\n  isOpen: boolean;\n  onClose: () => void;\n}) {\n  const [tab, setTab] = useState<TabType>(\"add\");\n  const [inputId, setInputId] = useState(\"\");\n  const [requests, setRequests] = useState<FriendItem[]>([]);\n  const [friends, setFriends] = useState<FriendItem[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  const [requestsCurrentPage, setRequestsCurrentPage] = useState(1);\n  const [friendsCurrentPage, setFriendsCurrentPage] = useState(1);\n\n\n  const loadData = useCallback(async () => {\n    setLoading(true);\n    try {\n      const [requestsData, friendsData] = await Promise.all([\n        getReceivedFriendRequests(),\n        getFriendList(),\n      ]);\n\n      setRequests(\n          requestsData.map((d: any) => ({\n            friendId: d.friendId,\n            userSignId: d.requesterSignId\n          }))\n      );\n\n      setFriends(\n          friendsData.map((d: any) => ({\n            friendId: d.friendId,\n            userSignId: d.requesterSignId === currentUserSignId ? d.receiverSignId : d.requesterSignId,\n          }))\n      );\n    } catch (err) {\n      console.error(\"Failed to load friend data\", err);\n      setRequests([]);\n      setFriends([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [currentUserSignId]);\n\n  useEffect(() => {\n    if (isOpen) {\n      loadData();\n      setRequestsCurrentPage(1);\n      setFriendsCurrentPage(1);\n    }\n  }, [isOpen, loadData]);\n\n  // âœ¨ ìˆ˜ì •: ì¹œêµ¬ ìš”ì²­ ì „ ìƒíƒœ í™•ì¸ ë¡œì§ ì¶”ê°€\n  const sendRequest = async () => {\n    const trimmedId = inputId.trim();\n\n    // ì…ë ¥ê°’ ê²€ì¦\n    if (!trimmedId) {\n      return alert(\"ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”\");\n    }\n\n    // ìê¸° ìì‹ ì—ê²Œ ìš”ì²­í•˜ëŠ” ê²½ìš°\n    if (trimmedId === currentUserSignId) {\n      return alert(\"ìì‹ ì—ê²ŒëŠ” ì¹œêµ¬ë¥¼ ì¶”ê°€í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤\");\n    }\n\n    try {\n      // âœ¨ ì¹œêµ¬ ê´€ê³„ ìƒíƒœ í™•ì¸\n      const status = await getFriendshipStatus(currentUserSignId, trimmedId);\n\n      // ì´ë¯¸ ì¹œêµ¬ ê´€ê³„ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš°\n      if (status) {\n        if (status.friendsStatus === \"ACCEPTED\") {\n          return alert(\"ì´ë¯¸ ì¹œêµ¬ ê´€ê³„ì…ë‹ˆë‹¤\");\n        } else if (status.friendsStatus === \"PENDING\") {\n          // ìš”ì²­ìê°€ í˜„ì¬ ì‚¬ìš©ìì¸ ê²½ìš°\n          if (status.requesterSignId === currentUserSignId) {\n            return alert(\"ì´ë¯¸ ì¹œêµ¬ ìš”ì²­ì„ ë³´ë‚¸ ìƒíƒœì…ë‹ˆë‹¤\");\n          } else {\n            // ìƒëŒ€ë°©ì´ ìš”ì²­ìì¸ ê²½ìš°\n            return alert(\"ìƒëŒ€ë°©ì´ ì´ë¯¸ ì¹œêµ¬ ìš”ì²­ì„ ë³´ëƒˆìŠµë‹ˆë‹¤. 'ì¹œêµ¬ ìš”ì²­' íƒ­ì—ì„œ í™•ì¸í•´ì£¼ì„¸ìš”\");\n          }\n        } else if (status.friendsStatus === \"BLOCKED\") {\n          return alert(\"ì°¨ë‹¨ëœ ì‚¬ìš©ìì…ë‹ˆë‹¤\");\n        }\n      }\n\n      // ìƒíƒœ í™•ì¸ ì™„ë£Œ í›„ ì¹œêµ¬ ìš”ì²­ ì „ì†¡\n      await sendFriendRequest(currentUserSignId, trimmedId);\n      alert(\"ì¹œêµ¬ ìš”ì²­ì„ ë³´ëƒˆìŠµë‹ˆë‹¤!\");\n      setInputId(\"\");\n    } catch (err: any) {\n      alert(err.message || \"ìš”ì²­ ì‹¤íŒ¨\");\n    }\n  };\n\n  const accept = async (friendId: number) => {\n    try {\n      await acceptFriendRequest(currentUserSignId, friendId);\n      alert(\"ì¹œêµ¬ ìš”ì²­ì„ ìˆ˜ë½í–ˆìŠµë‹ˆë‹¤.\");\n      loadData();\n    } catch (err: any) {\n      alert(err.message || \"ìˆ˜ë½ ì‹¤íŒ¨\");\n    }\n  };\n\n  const reject = async (friendId: number) => {\n    try {\n      await rejectFriendRequest(currentUserSignId, friendId);\n      alert(\"ì¹œêµ¬ ìš”ì²­ì„ ê±°ì ˆí–ˆìŠµë‹ˆë‹¤.\");\n      loadData();\n    } catch (err: any) {\n      alert(err.message || \"ê±°ì ˆ ì‹¤íŒ¨\");\n    }\n  };\n\n  const remove = async (friendId: number) => {\n    if (!confirm(\"ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\")) return;\n    try {\n      await deleteFriend(currentUserSignId, friendId);\n      alert(\"ì¹œêµ¬ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.\");\n      loadData();\n    } catch (err: any) {\n      alert(err.message || \"ì‚­ì œ ì‹¤íŒ¨\");\n    }\n  };\n\n  if (!isOpen) return null;\n\n  const getPaginationData = (list: FriendItem[], currentPage: number) => {\n    const totalItems = list.length;\n    const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);\n    const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\n    const endIndex = startIndex + ITEMS_PER_PAGE;\n    const currentItems = list.slice(startIndex, endIndex);\n    return { currentItems, totalItems, totalPages };\n  };\n\n  const { currentItems: currentRequests, totalItems: totalRequests, totalPages: requestsTotalPages } = getPaginationData(requests, requestsCurrentPage);\n  const { currentItems: currentFriends, totalItems: totalFriends, totalPages: friendsTotalPages } = getPaginationData(friends, friendsCurrentPage);\n\n  const PaginationControls = ({totalPages, currentPage, setCurrentPage}: {\n    totalPages: number,\n    currentPage: number,\n    setCurrentPage: (page: number) => void\n  }) => {\n    if (totalPages <= 1) return null;\n\n    return (\n        <div className=\"flex justify-center space-x-2 mt-4\">\n          <button\n              onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}\n              disabled={currentPage === 1}\n              className=\"px-3 py-1 border rounded disabled:opacity-50\"\n          >\n            ì´ì „\n          </button>\n          <span className=\"py-1 px-3\">\n            {currentPage} / {totalPages}\n          </span>\n          <button\n              onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}\n              disabled={currentPage === totalPages}\n              className=\"px-3 py-1 border rounded disabled:opacity-50\"\n          >\n            ë‹¤ìŒ\n          </button>\n        </div>\n    );\n  };\n\n  const TabButton = ({label, type, count}: { label: string, type: TabType, count?: number }) => (\n      <button\n          onClick={() => {\n            setTab(type);\n            if (type === 'requests') setRequestsCurrentPage(1);\n            if (type === 'friends') setFriendsCurrentPage(1);\n          }}\n          className={`flex-1 text-center py-3 font-semibold transition relative ${\n              tab === type\n                  ? \"text-blue-600 border-b-2 border-blue-600\"\n                  : \"text-gray-500 hover:text-gray-700\"\n          }`}\n      >\n        {label}\n        {count !== undefined && count > 0 && (\n            <span className=\"ml-2 px-2 py-0.5 text-xs font-bold text-white bg-red-500 rounded-full\">\n              {count}\n            </span>\n        )}\n      </button>\n  );\n\n  const renderContent = () => {\n    if (loading) {\n      return <div className=\"p-8 text-center text-gray-500\">ë¡œë”© ì¤‘...</div>;\n    }\n\n    switch (tab) {\n      case \"add\":\n        return (\n            <div className=\"p-8\">\n              <h3 className=\"text-xl font-bold mb-4\">ì¹œêµ¬ IDë¡œ ì¶”ê°€</h3>\n              <div className=\"flex space-x-2\">\n                <input\n                    type=\"text\"\n                    value={inputId}\n                    onChange={(e) => setInputId(e.target.value)}\n                    onKeyPress={(e) => e.key === 'Enter' && sendRequest()}\n                    placeholder=\"ì¹œêµ¬ì˜ IDë¥¼ ì…ë ¥í•˜ì„¸ìš”\"\n                    className=\"flex-grow p-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <button\n                    onClick={sendRequest}\n                    className=\"px-6 py-3 font-semibold text-white bg-blue-500 rounded hover:bg-blue-600 transition\"\n                >\n                  ìš”ì²­\n                </button>\n              </div>\n            </div>\n        );\n      case \"requests\":\n        return (\n            <div className=\"p-8\">\n              <h3 className=\"text-xl font-bold mb-4\">ë°›ì€ ì¹œêµ¬ ìš”ì²­ ({totalRequests})</h3>\n              <div className=\"border border-gray-200 rounded\">\n                {totalRequests === 0 ? (\n                    <p className=\"p-4 text-center text-gray-500\">ë°›ì€ ì¹œêµ¬ ìš”ì²­ì´ ì—†ìŠµë‹ˆë‹¤.</p>\n                ) : (\n                    currentRequests.map((item) => (\n                        <RequestItem\n                            key={item.friendId}\n                            {...item}\n                            onAccept={accept}\n                            onReject={reject}\n                        />\n                    ))\n                )}\n              </div>\n              <PaginationControls\n                  totalPages={requestsTotalPages}\n                  currentPage={requestsCurrentPage}\n                  setCurrentPage={setRequestsCurrentPage}\n              />\n            </div>\n        );\n      case \"friends\":\n        return (\n            <div className=\"p-8\">\n              <h3 className=\"text-xl font-bold mb-4\">ë‚´ ì¹œêµ¬ ëª©ë¡ ({totalFriends})</h3>\n              <div className=\"border border-gray-200 rounded\">\n                {totalFriends === 0 ? (\n                    <p className=\"p-4 text-center text-gray-500\">ë“±ë¡ëœ ì¹œêµ¬ê°€ ì—†ìŠµë‹ˆë‹¤.</p>\n                ) : (\n                    currentFriends.map((item) => (\n                        <FriendListItem\n                            key={item.friendId}\n                            {...item}\n                            onRemove={remove}\n                        />\n                    ))\n                )}\n              </div>\n              <PaginationControls\n                  totalPages={friendsTotalPages}\n                  currentPage={friendsCurrentPage}\n                  setCurrentPage={setFriendsCurrentPage}\n              />\n            </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n      <>\n        <div className={styles.modalBackdrop} onMouseDown={onClose} />\n        <div className={styles.modalContent} onClick={(e) => e.stopPropagation()}>\n          <button onClick={onClose} className={styles.closeButton}>Ã—</button>\n          <div className=\"p-8 border-b\">\n            <div className=\"mb-6\">\n              <h2 className={styles.modalTitle}>ì¹œêµ¬ ê´€ë¦¬</h2>\n            </div>\n            <div className=\"flex -mx-8 border-b\">\n              <TabButton label=\"ì¹œêµ¬ ì¶”ê°€\" type=\"add\"/>\n              <TabButton label=\"ì¹œêµ¬ ìš”ì²­\" type=\"requests\" count={requests.length}/>\n              <TabButton label=\"ì¹œêµ¬ ëª©ë¡\" type=\"friends\" count={friends.length}/>\n            </div>\n          </div>\n          <div className=\"flex flex-col flex-grow\">\n            {renderContent()}\n          </div>\n        </div>\n      </>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2958, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/component/layout/Bar/Topbar.tsx"],"sourcesContent":["import styles from \"../../../styles/layout/layout.module.css\";\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport LoginModal from \"../../userService/LoginModal\";\nimport FriendActionModal from \"@/component/userService/FriendActionModal\";\nimport { getImageUrl, getInitial } from \"@/utils/imageUtils\";\nimport React from \"react\"; // ğŸŸ¢ [ìˆ˜ì •] ëª…í™•ì„±ì„ ìœ„í•´ Reactë¥¼ importí•©ë‹ˆë‹¤.\n\n// ğŸŸ¢ [ì¶”ê°€] ProfileDropdownProps ì •ì˜\ninterface ProfileDropdownProps {\n  onClose: () => void;\n  onNavigate: (path: string) => void;\n  userSignId: string;\n}\n\n// ğŸŸ¢ [ì¶”ê°€] ProfileDropdown ì»´í¬ë„ŒíŠ¸\nconst ProfileDropdown = ({ onClose, onNavigate, userSignId }: ProfileDropdownProps) => {\n\n  const handleLinkClick = (path: string) => {\n    onNavigate(path);\n    onClose();\n  };\n\n  return (\n      <div className={styles.profileDropdown}>\n        <div className={styles.dropdownHeader}>\n          <strong>{userSignId}</strong>\n        </div>\n        <button onClick={() => handleLinkClick(`/my-posts/${userSignId}`)} className={styles.dropdownItem}>\n          ë‚´ ê²Œì‹œë¬¼\n        </button>\n        <button onClick={() => handleLinkClick('/setting')} className={styles.dropdownItem}>\n          ì„¤ì • (ì´ë¯¸ì§€/ë¹„ë°€ë²ˆí˜¸)\n        </button>\n      </div>\n  );\n};\n\n\nexport default function Topbar() {\n  const router = useRouter();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [showLoginModal, setShowLoginModal] = useState(false);\n  const [showFriendModal, setShowFriendModal] = useState(false);\n  const [profileImg, setProfileImg] = useState('');\n  const [userSignId, setUserSignId] = useState('');\n  const [imageLoadError, setImageLoadError] = useState(false);\n\n  // ğŸŸ¢ [ì¶”ê°€] ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ìƒíƒœ\n  const [showProfileDropdown, setShowProfileDropdown] = useState(false);\n\n  // ì´ˆê¸° ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸\n  useEffect(() => {\n    checkLoginStatus();\n    setImageLoadError(false);\n  }, []);\n\n  const checkLoginStatus = () => {\n    const token = localStorage.getItem(\"accessToken\");\n    const userId = localStorage.getItem(\"userSignId\");\n    const profile = localStorage.getItem(\"profile_img\");\n\n    console.log(\"ğŸ”¥ [Topbar] checkLoginStatus í˜¸ì¶œ\");\n    console.log(\"ğŸ”¥ [Topbar] token:\", token ? \"ì¡´ì¬\" : \"ì—†ìŒ\");\n    console.log(\"ğŸ”¥ [Topbar] userId:\", userId);\n    console.log(\"ğŸ”¥ [Topbar] profile_img from localStorage:\", profile);\n\n    setIsLoggedIn(!!token);\n    setUserSignId(userId || '');\n    setProfileImg(profile || '');\n\n    console.log(\"ğŸ”¥ [Topbar] State ì—…ë°ì´íŠ¸ - profileImg:\", profile || 'ì—†ìŒ');\n  };\n\n  const handleLoginSuccess = () => {\n    checkLoginStatus();\n    setShowLoginModal(false);\n  };\n\n  const handleLogout = () => {\n    localStorage.clear();\n    setIsLoggedIn(false);\n    setProfileImg('');\n    setUserSignId('');\n    alert(\"ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.\");\n    router.push(\"/\");\n  };\n\n  const handleProfileClick = () => {\n    setShowProfileDropdown(prev => !prev);\n  };\n\n  const handleNavigate = (path: string) => {\n    router.push(path);\n    setShowProfileDropdown(false); // ë„¤ë¹„ê²Œì´ì…˜ í›„ ë‹«ê¸°\n  };\n\n\n  // ë¡œê·¸ì¸í•œ ì‚¬ìš©ì signId ê°€ì ¸ì˜¤ê¸°\n  const currentUserSignId = typeof window !== \"undefined\"\n      ? localStorage.getItem(\"userSignId\") || \"\"\n      : \"\";\n\n  return (\n      <>\n        <header className={styles.topbar}>\n          <Link href=\"/\" className={styles.leftSection}>\n            MomenTory\n          </Link>\n\n          <nav className={styles.rightSection}>\n            {isLoggedIn ? (\n                <>\n                  <Link href=\"/community\" className={`${styles.rightItem} ${styles.navLink}`}>\n                    ì»¤ë®¤ë‹ˆí‹°\n                  </Link>\n\n                  {/* ì¹œêµ¬ ëª¨ë‹¬ ë²„íŠ¼ */}\n                  <div\n                      className={styles.rightItem}\n                      style={{cursor: 'pointer'}}\n                      onClick={() => setShowFriendModal(true)}\n                  >\n                    ì¹œêµ¬\n                    {showFriendModal && currentUserSignId && (\n                        <FriendActionModal\n                            currentUserSignId={currentUserSignId}\n                            isOpen={showFriendModal}\n                            onClose={() => setShowFriendModal(false)}\n                        />\n                    )}\n                  </div>\n\n                  <Link href=\"/page\" className={`${styles.rightItem} ${styles.writeButton}`}>\n                    ì±„íŒ…\n                  </Link>\n\n                  <Link href=\"/write\" className={`${styles.rightItem} ${styles.writeButton}`}>\n                    Log ì‘ì„±\n                  </Link>\n\n                  <div className={styles.profileContainer}> {/* ë“œë¡­ë‹¤ìš´ ìœ„ì¹˜ ì§€ì •ì„ ìœ„í•œ ì»¨í…Œì´ë„ˆ */}\n                    <div\n                        className={styles.profileSection}\n                        onClick={handleProfileClick} // ğŸŸ¢ í† ê¸€ í•¸ë“¤ëŸ¬ ì‚¬ìš©\n                        style={{cursor: 'pointer'}}\n                    >\n                      {/* í”„ë¡œí•„ ì´ë¯¸ì§€ ë˜ëŠ” ì•„ì´ë”” ì²«ê¸€ì */}\n                      {profileImg && !imageLoadError ? (\n                          <img\n                              src={getImageUrl(profileImg)}\n                              alt=\"í”„ë¡œí•„\"\n                              className={styles.profileImage}\n                              onError={(e) => {\n                                console.error('âŒ ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨:', getImageUrl(profileImg));\n                                setImageLoadError(true);\n                                e.currentTarget.style.display = 'none';\n                              }}\n                              onLoad={() => {\n                                console.log('âœ… ì´ë¯¸ì§€ ë¡œë“œ ì„±ê³µ:', getImageUrl(profileImg));\n                                setImageLoadError(false);\n                              }}\n                          />\n                      ) : (\n                          <div className={styles.profileCircle}>\n                            {getInitial(userSignId)}\n                          </div>\n                      )}\n                    </div>\n\n                    {/* ğŸŸ¢ ë“œë¡­ë‹¤ìš´ ë Œë”ë§ */}\n                    {showProfileDropdown && (\n                        <ProfileDropdown\n                            onClose={() => setShowProfileDropdown(false)}\n                            onNavigate={handleNavigate}\n                            userSignId={userSignId}\n                        />\n                    )}\n                  </div>\n\n\n                  <div className={styles.rightItem} onClick={handleLogout}\n                       style={{cursor: 'pointer'}}>\n                    ë¡œê·¸ì•„ì›ƒ\n                  </div>\n                </>\n            ) : (\n                <div\n                    className={styles.rightItem}\n                    style={{cursor: \"pointer\"}}\n                    onClick={() => setShowLoginModal(true)}\n                >\n                  ë¡œê·¸ì¸\n                </div>\n            )}\n          </nav>\n        </header>\n\n        {showLoginModal && (\n            <LoginModal\n                onClose={() => setShowLoginModal(false)}\n                onLoginSuccess={handleLoginSuccess}\n            />\n        )}\n      </>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3248, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/layout/MainLayout.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"layoutContainer\": \"MainLayout-module__rxU5Kq__layoutContainer\",\n  \"mainContent\": \"MainLayout-module__rxU5Kq__mainContent\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA"}},
    {"offset": {"line": 3256, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/component/layout/MainLayout.tsx"],"sourcesContent":["import React from 'react';\nimport Topbar from './Bar/Topbar';\nimport styles from '@/styles/layout/MainLayout.module.css';\n\ninterface LayoutProps {\n  children: React.ReactNode;\n}\n\nexport default function Layout({ children }: LayoutProps) {\n  return (\n      <div className={styles.layoutContainer}>\n        <Topbar />\n        <main className={styles.mainContent}>\n          {children}\n        </main>\n      </div>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAMe,SAAS,OAAO,EAAE,QAAQ,EAAe;IACtD,qBACI,qKAAC;QAAI,WAAW,qJAAM,CAAC,eAAe;;0BACpC,qKAAC,gJAAM;;;;;0BACP,qKAAC;gBAAK,WAAW,qJAAM,CAAC,WAAW;0BAChC;;;;;;;;;;;;AAIX"}},
    {"offset": {"line": 3296, "column": 0}, "map": {"version":3,"sources":["file:///Users/daul/Desktop/project/miniblog/miniblog/frontend/src/pages/post/%5BpostId%5D.tsx"],"sourcesContent":["// pages/post/[postId].tsx\nimport PostDetail from '@/component/blogService/PostDetail';\nimport { readPost } from '@/api/blogService/blog';\nimport { GetServerSideProps } from 'next';\nimport MainLayout from '@/component/layout/MainLayout';\nimport {PostEntity} from \"@/types/blogService/blogType\";   // ì´ê±° ì¶”ê°€!!!\n\nexport default function PostPage({ post }: { post: PostEntity }) {\n  console.log(\"PostDetail ë Œë”ë§ ì‹œì‘. ìˆ˜ì‹ ëœ Post:\", post); // â¬…ï¸ ì´ ë¡œê·¸ê°€ ì°íˆëŠ”ì§€ í™•ì¸\n  if (!post) {\n    return (\n        <MainLayout>\n          <div className=\"max-w-7xl mx-auto px-6 py-20 text-center\">\n            <h1 className=\"text-2xl font-bold\">ê²Œì‹œë¬¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</h1>\n          </div>\n        </MainLayout>\n    );\n  }\n\n  return (\n      <MainLayout>\n        <PostDetail post={post} />\n      </MainLayout>\n);\n}\n\nexport const getServerSideProps: GetServerSideProps = async (context) => {\n  const { postId } = context.params!;\n\n  try {\n    const post = await readPost(Number(postId));\n    return {\n      props: { post },\n    };\n  } catch (error) {\n    console.error(\"ê²Œì‹œë¬¼ ë¡œë“œ ì‹¤íŒ¨:\", error);\n    return {\n      props: { post: null },\n    };\n  }\n};"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;;;AAC1B;AACA;AAEA;;;;;;;;;AAGe,SAAS,SAAS,EAAE,IAAI,EAAwB;IAC7D,QAAQ,GAAG,CAAC,gCAAgC,OAAO,mBAAmB;IACtE,IAAI,CAAC,MAAM;QACT,qBACI,qKAAC,6IAAU;sBACT,cAAA,qKAAC;gBAAI,WAAU;0BACb,cAAA,qKAAC;oBAAG,WAAU;8BAAqB;;;;;;;;;;;;;;;;IAI7C;IAEA,qBACI,qKAAC,6IAAU;kBACT,cAAA,qKAAC,kJAAU;YAAC,MAAM;;;;;;;;;;;AAG1B;AAEO,MAAM,qBAAyC,OAAO;IAC3D,MAAM,EAAE,MAAM,EAAE,GAAG,QAAQ,MAAM;IAEjC,IAAI;QACF,MAAM,OAAO,MAAM,IAAA,sIAAQ,EAAC,OAAO;QACnC,OAAO;YACL,OAAO;gBAAE;YAAK;QAChB;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,cAAc;QAC5B,OAAO;YACL,OAAO;gBAAE,MAAM;YAAK;QACtB;IACF;AACF"}}]
}